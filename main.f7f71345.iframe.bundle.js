(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/AppCanvas.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,'*,*::before,*::after{box-sizing:border-box}.react-flow{--color-page-background: white;--color-text: black;--color-button-background: white;--color-button-text-disabled: #cbcbcb;--color-border: black;--color-article-background: white;--color-article-shadow: #444444;--shadow-simplenode: 0px 2px 2px rgba(0, 0, 0, 0.2);--color-moduletype-bg: #e8f0fe;--color-moduletype-title: #7aa1cb;--color-moduletype-type: #1967d2;--color-dropdown-hover: #e8f0fe;--color-border: #dedede;--color-border2: #eaeaea;--color-blue-text: #1967d2;--color-svg-text: #606060;--color-control-bg: #e7f1fe}.react-flow.dark{--color-page-background: black;--color-text: white;--color-button-background: #a7a7a7;--color-button-text-disabled: #484848;--color-border: white;--color-article-background: #e8eaed;--color-article-shadow: #444444;--shadow-simplenode: 0px 2px 2px rgba(0, 0, 0, 0.2);--color-moduletype-bg: #64738b;--color-moduletype-title: #97a4b9;--color-moduletype-type: #40cfdf;--color-dropdown-hover: #64738b;--color-border: #dedede;--color-border2: #eaeaea;--color-blue-text: #40cfdf;--color-svg-text: gainsboro;--color-control-bg: #a7a7a7}body{font-family:"Roboto","Helvetica","Arial",sans-serif}.togglemode-button{position:absolute;top:10px;right:10px;z-index:5;color:var(--color-svg-text)}.react-flow__controls.dark{box-shadow:0 0 2px 1px rgba(255,255,255,.08)}.react-flow__controls.dark button{background:#a7a7a7;border-color:#979797}',"",{version:3,sources:["webpack://./src/AppCanvas/AppCanvas.scss"],names:[],mappings:"AA0BA,qBAGE,qBAAA,CAIF,YACE,8BAAA,CACA,mBAAA,CACA,gCAAA,CACA,qCAAA,CACA,qBAAA,CACA,iCAAA,CACA,+BAAA,CACA,mDAAA,CACA,8BAAA,CACA,iCAAA,CACA,gCAAA,CACA,+BAAA,CACA,uBAAA,CACA,wBAAA,CACA,0BAAA,CACA,yBAAA,CACA,2BAAA,CACA,iBACE,8BAAA,CACA,mBAAA,CACA,kCAAA,CACA,qCAAA,CACA,qBAAA,CACA,mCAAA,CACA,+BAAA,CACA,mDAAA,CACA,8BAAA,CACA,iCAAA,CACA,gCAAA,CACA,+BAAA,CACA,uBAAA,CACA,wBAAA,CACA,0BAAA,CACA,2BAAA,CACA,2BAAA,CAIJ,KACE,mDAAA,CASF,mBACE,iBAAA,CACA,QAAA,CACA,UAAA,CACA,SAAA,CACA,2BAAA,CAIA,2BACE,4CAAA,CACA,kCACE,kBAAA,CACA,oBAAA",sourcesContent:['$color-black: rgb(0, 0, 0);\n$color-white: rgb(255, 255, 255);\n$color-default-gray: #838383;\n$color-default-gray-lighter: #a7a7a7;\n$color-gray-light: #e8eaed;\n$color-gray-dark: #444444;\n$color-gray-darker: #606060;\n$color-blue-lighter: #e7f1fe;\n$color-blue-light: #e8f0fe;\n$color-blue-mid: #97a4b9;\n$color-blue: #1967d2;\n$color-blue-gray: #7aa1cb;\n$color-blue-gray-dark: #64738b;\n$color-blue-dark: #21262e;\n$color-border-gray: #dedede;\n$color-border-gray-dark: #323232;\n$color-border-gray2: #eaeaea;\n$color-border-gray-dark2: #282828;\n$color-green-blue: #40cfdf;\n$color-gray-disabled: #cbcbcb;\n$color-gray-disabled-darker: #484848;\n$color-gainsboro: \'gainsboro\';\n\n$shadow-black: 0px 2px 2px rgb(0 0 0 / 20%);\n// $shadow-white: 0px 2px 2px rgb(255 255 255 / 20%);\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  // transition: all 0.15s ease;\n}\n\n.react-flow {\n  --color-page-background: #{$color-white};\n  --color-text: #{$color-black};\n  --color-button-background: #{$color-white};\n  --color-button-text-disabled: #{$color-gray-disabled};\n  --color-border: #{$color-black};\n  --color-article-background: #{$color-white};\n  --color-article-shadow: #{$color-gray-dark};\n  --shadow-simplenode: #{$shadow-black};\n  --color-moduletype-bg: #{$color-blue-light};\n  --color-moduletype-title: #{$color-blue-gray};\n  --color-moduletype-type: #{$color-blue};\n  --color-dropdown-hover: #{$color-blue-light};\n  --color-border: #{$color-border-gray};\n  --color-border2: #{$color-border-gray2};\n  --color-blue-text: #{$color-blue};\n  --color-svg-text: #{$color-gray-darker};\n  --color-control-bg: #{$color-blue-lighter};\n  &.dark {\n    --color-page-background: #{$color-black};\n    --color-text: #{$color-white};\n    --color-button-background: #{$color-default-gray-lighter};\n    --color-button-text-disabled: #{$color-gray-disabled-darker};\n    --color-border: #{$color-white};\n    --color-article-background: #{$color-gray-light};\n    --color-article-shadow: #{$color-gray-dark};\n    --shadow-simplenode: #{$shadow-black};\n    --color-moduletype-bg: #{$color-blue-gray-dark};\n    --color-moduletype-title: #{$color-blue-mid};\n    --color-moduletype-type: #{$color-green-blue};\n    --color-dropdown-hover: #{$color-blue-gray-dark};\n    --color-border: #{$color-border-gray};\n    --color-border2: #{$color-border-gray2};\n    --color-blue-text: #{$color-green-blue};\n    --color-svg-text: #{$color-gainsboro};\n    --color-control-bg: #{$color-default-gray-lighter};\n  }\n}\n\nbody {\n  font-family: "Roboto","Helvetica","Arial",sans-serif;\n}\n\n// .react-flow__node {\n//   z-index: 100;\n//   // width: auto;\n//   // opacity: 0;\n// }\n\n.togglemode-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 5;\n  color: var(--color-svg-text);\n}\n\n.react-flow__controls {\n  &.dark {\n    box-shadow: 0 0 2px 1px rgb(255 255 255 / 8%);\n    button {\n      background: #a7a7a7;\n      border-color: #979797;\n    }\n    // svg {\n    //   filter: invert(48%) sepia(79%) saturate(0%) hue-rotate(83deg)\n    //     brightness(150%) contrast(119%);\n    // }\n  }\n}\n'],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/AsyncContents/ImgSourceLocal.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".upload__image-wrapper{display:flex;flex-direction:row}.upload__image-wrapper .image-item{flex-grow:1;margin-left:1rem;display:flex;flex-direction:row;align-items:center}.upload__image-wrapper .image-item .apply-button{margin-left:1rem}","",{version:3,sources:["webpack://./src/AppCanvas/AsyncContents/ImgSourceLocal.scss"],names:[],mappings:"AAAA,uBACI,YAAA,CACA,kBAAA,CAEA,mCACI,WAAA,CACA,gBAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,iDACI,gBAAA",sourcesContent:[".upload__image-wrapper {\n    display: flex;\n    flex-direction: row;\n\n    .image-item {\n        flex-grow: 1;\n        margin-left: 1rem;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        .apply-button {\n            margin-left: 1rem;\n        }\n    }\n}"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/AsyncContents/ROIEditContent.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".editor-content{height:100%;width:100%;display:flex;flex-direction:column;overflow-y:hidden}.editor-content .tabpanel{height:7rem}.editor-content .canvas-and-control-area{flex-grow:1;padding-left:1.8rem;padding-right:1.8rem;padding-top:.8rem;padding-bottom:.8rem}.editor-content .canvas-and-control-area .canvas-area{width:100%;height:100%;position:relative}","",{version:3,sources:["webpack://./src/AppCanvas/AsyncContents/ROIEditContent.scss"],names:[],mappings:"AAAA,gBACE,WAAA,CACA,UAAA,CACA,YAAA,CACA,qBAAA,CACA,iBAAA,CAMA,0BACE,WAAA,CAEF,yCACE,WAAA,CACA,mBAAA,CACA,oBAAA,CACA,iBAAA,CACA,oBAAA,CACA,sDACE,UAAA,CACA,WAAA,CACA,iBAAA",sourcesContent:[".editor-content {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow-y: hidden;\n\n  .tab-area {\n    // height: 8rem;\n    // margin-bottom: 1.5rem;\n  }\n  .tabpanel {\n    height: 7rem;\n  }\n  .canvas-and-control-area {\n    flex-grow: 1;\n    padding-left: 1.8rem;\n    padding-right: 1.8rem;\n    padding-top: 0.8rem;\n    padding-bottom: 0.8rem;\n    .canvas-area {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/Components/CollapseContainer.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".gddi-aiappcanvas__collapse-header{cursor:pointer;display:flex;justify-content:space-between;padding:18px;font-size:14px;color:var(--color-blue-text);transition:.2s all ease-out;font-weight:600;border-top:1px solid var(--color-border)}.gddi-aiappcanvas__collapse-header:hover{background-color:var(--color-dropdown-hover)}.gddi-aiappcanvas__collapse-body{margin-top:10px;display:flex;flex-direction:column}","",{version:3,sources:["webpack://./src/AppCanvas/Components/CollapseContainer.scss"],names:[],mappings:"AAAA,mCACE,cAAA,CACA,YAAA,CACA,6BAAA,CACA,YAAA,CACA,cAAA,CACA,4BAAA,CACA,2BAAA,CACA,eAAA,CACA,wCAAA,CAEA,yCACE,4CAAA,CAIJ,iCACE,eAAA,CACA,YAAA,CACA,qBAAA",sourcesContent:[".gddi-aiappcanvas__collapse-header {\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n  padding: 18px;\n  font-size: 14px;\n  color: var(--color-blue-text);\n  transition: 0.2s all ease-out;\n  font-weight: 600;\n  border-top: 1px solid var(--color-border);\n\n  &:hover {\n    background-color: var(--color-dropdown-hover);\n  }\n}\n\n.gddi-aiappcanvas__collapse-body {\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/Components/PopoverColorPicker.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".picker{position:relative}.swatch{width:2rem;height:1.2rem;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.1),inset 0 0 0 1px rgba(0,0,0,.1);cursor:pointer}.swatch.disabled{cursor:default}.popover{position:absolute;top:0;right:calc(100% + 20px);z-index:100;border-radius:9px;box-shadow:0 6px 12px rgba(99,39,39,.15)}","",{version:3,sources:["webpack://./src/AppCanvas/Components/PopoverColorPicker.scss"],names:[],mappings:"AAAA,QACI,iBAAA,CAGJ,QACI,UAAA,CACA,aAAA,CACA,iBAAA,CAEA,kEAAA,CACA,cAAA,CACA,iBACI,cAAA,CAIR,SACI,iBAAA,CAGA,KAAA,CACA,uBAAA,CACA,WAAA,CACA,iBAAA,CACA,wCAAA",sourcesContent:[".picker {\n    position: relative;\n  }\n\n.swatch {\n    width: 2rem;\n    height: 1.2rem;\n    border-radius: 4px;\n    // border: 3px solid #fff;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n    &.disabled {\n        cursor: default;\n    }\n}\n\n.popover {\n    position: absolute;\n    // top: calc(100% + 2px);\n    // left: 0;\n    top: 0;\n    right: calc(100% + 20px);\n    z-index: 100;\n    border-radius: 9px;\n    box-shadow: 0 6px 12px rgba(99, 39, 39, 0.15);\n}"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/Components/VersionTag.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".versiontag-wrapper{position:absolute;bottom:.8rem;right:1rem;z-index:5;font-size:.8rem;color:#00000075;font-style:italic;font-family:sans-serif}","",{version:3,sources:["webpack://./src/AppCanvas/Components/VersionTag.scss"],names:[],mappings:"AAAA,oBACI,iBAAA,CACA,YAAA,CACA,UAAA,CACA,SAAA,CACA,eAAA,CACA,eAAA,CACA,iBAAA,CACA,sBAAA",sourcesContent:[".versiontag-wrapper {\n    position: absolute;\n    bottom: 0.8rem;\n    right: 1rem;\n    z-index: 5;\n    font-size: 0.8rem;\n    color: #00000075;\n    font-style: italic;\n    font-family: sans-serif;\n\n}"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/ExtendedControls/ExtendedControls.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".custom-controls{position:absolute;top:.8rem;display:flex;z-index:5}.custom-controls .control-button{margin-left:.8rem;margin-right:.8rem;background-color:var(--color-control-bg);color:var(--color-svg-text);box-shadow:0 0 2px 1px rgba(0,0,0,.08);cursor:pointer;display:flex;padding:4px}.custom-controls .control-button .control-button-icon{color:inherit;font-size:1.1rem}","",{version:3,sources:["webpack://./src/AppCanvas/ExtendedControls/ExtendedControls.scss"],names:[],mappings:"AAAA,iBACE,iBAAA,CACA,SAAA,CACA,YAAA,CACA,SAAA,CAEA,iCACE,iBAAA,CACA,kBAAA,CACA,wCAAA,CACA,2BAAA,CACA,sCAAA,CACA,cAAA,CACA,YAAA,CACA,WAAA,CACA,sDACE,aAAA,CACA,gBAAA",sourcesContent:[".custom-controls {\n  position: absolute;\n  top: 0.8rem;\n  display: flex;\n  z-index: 5;\n\n  .control-button {\n    margin-left: 0.8rem;\n    margin-right: 0.8rem;\n    background-color: var(--color-control-bg);\n    color: var(--color-svg-text);\n    box-shadow: 0 0 2px 1px rgb(0 0 0 / 8%);\n    cursor: pointer;\n    display: flex;\n    padding: 4px;\n    .control-button-icon {\n      color: inherit;\n      font-size: 1.1rem;\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/DetectionNodeBody.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".model-specify{background-color:azure;border:2px solid transparent;border-radius:4px;padding:1rem .5rem 1rem .5rem;margin-top:1rem;display:flex;flex-direction:column;font-weight:200}.model-specify .model-info{margin-bottom:1rem;font-size:.8rem}.model-specify .model-info .model-info-row{margin-bottom:.5rem}.model-specify .model-info .model-name{font-weight:700;font-size:1rem}","",{version:3,sources:["webpack://./src/AppCanvas/RFNodes/DetectionNodeBody.scss"],names:[],mappings:"AAAA,eACE,sBAAA,CACA,4BAAA,CACA,iBAAA,CACA,6BAAA,CACA,eAAA,CACA,YAAA,CACA,qBAAA,CACA,eAAA,CAEA,2BACE,kBAAA,CACA,eAAA,CACA,2CACE,mBAAA,CAEF,uCACE,eAAA,CACA,cAAA",sourcesContent:[".model-specify {\n  background-color: azure;\n  border: 2px solid transparent;\n  border-radius: 4px;\n  padding: 1rem 0.5rem 1rem 0.5rem;\n  margin-top: 1rem;\n  display: flex;\n  flex-direction: column;\n  font-weight: 200;\n\n  .model-info {\n    margin-bottom: 1rem;\n    font-size: 0.8rem;\n    .model-info-row {\n      margin-bottom: 0.5rem;\n    }\n    .model-name {\n      font-weight: 700;\n      font-size: 1rem;\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/FilterLabelsDisplay.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".tablecell-color{display:flex;flex-direction:row;align-items:center}.tablecell-color .hex-color-input{width:3.8rem;margin-left:.4rem;border:1px solid #ddd;border-radius:4px;background:#eee;outline:none;text-transform:uppercase;text-align:center}.filterlabels-tr-maplabels{font-size:inherit;font-style:inherit}.filterlabels-tr-maplabels .editabletext-input{font-size:smaller;height:1rem}","",{version:3,sources:["webpack://./src/AppCanvas/RFNodes/FilterLabelsDisplay.scss"],names:[],mappings:"AAAA,iBACI,YAAA,CACA,kBAAA,CACA,kBAAA,CAEA,kCACI,YAAA,CACA,iBAAA,CAMA,qBAAA,CACA,iBAAA,CACA,eAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAIR,2BACI,iBAAA,CACA,kBAAA,CACA,+CACI,iBAAA,CACA,WAAA",sourcesContent:[".tablecell-color {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .hex-color-input {\n        width: 3.8rem;\n        margin-left: 0.4rem;\n        // border-radius: 4px;\n        // border-width: 1px;\n        // border-style: solid;\n        // border-color: #c8c8c8;\n\n        border: 1px solid #ddd;\n        border-radius: 4px;\n        background: #eee;\n        outline: none;\n        text-transform: uppercase;\n        text-align: center;\n    }\n}\n\n.filterlabels-tr-maplabels {\n    font-size: inherit;\n    font-style: inherit;\n    .editabletext-input {\n        font-size: smaller;\n        height: 1rem;\n    }\n}"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/ModelConfigTool.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".config-content{padding:.8rem 1rem .8rem 1rem}","",{version:3,sources:["webpack://./src/AppCanvas/RFNodes/ModelConfigTool.scss"],names:[],mappings:"AAAA,gBACI,6BAAA",sourcesContent:[".config-content {\n    padding: 0.8rem 1rem 0.8rem 1rem;\n}"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/ModelSelectSearch.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".model-selectsearch-wrapper{display:flex;flex-direction:column;height:100%}.model-selectsearch-wrapper .list-with-page{flex:1;display:flex;flex-direction:column;height:65vh}.model-selectsearch-wrapper .list-with-page .list-area{flex:1;overflow-y:auto}.model-selectsearch-wrapper .list-with-page .pagination-area{display:flex;justify-content:space-between;align-items:center;margin-top:.3rem}","",{version:3,sources:["webpack://./src/AppCanvas/RFNodes/ModelSelectSearch.scss"],names:[],mappings:"AAAA,4BACI,YAAA,CACA,qBAAA,CACA,WAAA,CACA,4CACI,MAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CACA,uDACI,MAAA,CACA,eAAA,CAEJ,6DACI,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,gBAAA",sourcesContent:[".model-selectsearch-wrapper{\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    .list-with-page {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        height: 65vh;\n        .list-area {\n            flex: 1;\n            overflow-y: auto;\n        }\n        .pagination-area {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-top: 0.3rem;\n        }\n    }\n}"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/SimpleNode.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,"@keyframes barberpole{100%{background-position:100% 100%}}.react-flow__handle{height:15px;width:15px;border-color:var(--color-page-background)}.react-flow__handle-right{right:-8px;background-color:#fbdc9d}.react-flow__handle-left{left:-8px;background-color:#87b6e1}.gddi-aiappcanvas__simplenode-wrapper{display:flex;border-radius:10px;overflow:hidden;box-shadow:var(--shadow-simplenode);box-sizing:border-box}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode{display:flex;flex-direction:column;width:320px}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__section{padding:18px;font-size:1.25rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .module-runner{padding-top:4px;padding-bottom:4px;background-image:repeating-linear-gradient(-45deg, #f3f3f3, #f3f3f3 1rem, #efebaf 1rem, #efebaf 2rem);background-size:200% 200%;animation:barberpole 6s linear infinite;margin-bottom:1rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .module-type-display{cursor:default;display:flex;padding-top:45px;padding-bottom:45px;margin:18px;flex-direction:column;text-align:center;background-color:var(--color-moduletype-bg);color:var(--color-moduletype-type);border:2px solid transparent;border-radius:4px;font-weight:600}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .roi-edit-button,.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .model-select-button{display:flex;padding:26px;margin:18px;flex-direction:column;text-align:center;font-weight:700}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .roi-edit-button .model-name,.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .model-select-button .model-name{width:260px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .roi-edit-button .filterlabel-display,.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .model-select-button .filterlabel-display{font-weight:500;font-size:.8rem;margin-top:.2rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .module-type-type{font-size:.65em;color:var(--color-moduletype-title);font-style:italic;margin-bottom:10px}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .module-version{font-size:.65em;color:var(--color-moduletype-title);margin-top:.25rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header{display:flex;height:57px;border-bottom:1px solid var(--color-border);justify-content:space-between;color:var(--color-svg-text)}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__dropdown-icon:hover{color:#999}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__dropdown-menu{position:absolute;z-index:1000;box-shadow:0px 1px 5px #4e4e4e;border-radius:6px;width:200px;min-width:200px;background-color:var(--color-button-background);color:var(--color-text)}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__dropdown-menu button{color:inherit;text-align:left;font-weight:500;background:transparent;border:0;outline:0;width:100%;font-size:15px;padding:15px;cursor:pointer}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__dropdown-menu button:hover{background-color:rgba(0,0,0,.05)}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__dropdown-menu button.disabled{color:var(--color-button-text-disabled)}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__simplenode-header-left{display:flex;align-items:flex-start;margin-right:1rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__simplenode-header-left .description-question-icon{font-size:.8rem;color:#00000069}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__editable-text{width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__header .gddi-aiappcanvas__simplenode-header-right{margin-left:1rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__row{padding:18px;padding-bottom:0px;font-size:16px}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__simplenode-proprow{font-size:14px;border-top:1px solid var(--color-border2);padding:18px;max-width:22rem}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__simplenode-proprow:first-child{padding-top:0px;border:0px}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__simplenode-proprow .label-input-wrapper{display:flex;justify-content:space-between;align-items:center}.gddi-aiappcanvas__simplenode-wrapper .gddi-aiappcanvas__simplenode .gddi-aiappcanvas__simplenode-proprow .propname-question-icon{color:rgba(0,0,0,.6);font-size:1rem;cursor:pointer}","",{version:3,sources:["webpack://./src/AppCanvas/RFNodes/SimpleNode.scss"],names:[],mappings:"AAAA,sBACE,KACE,6BAAA,CAAA,CAIJ,oBACE,WAAA,CACA,UAAA,CACA,yCAAA,CAGF,0BACE,UAAA,CACA,wBAAA,CAEF,yBACE,SAAA,CACA,wBAAA,CAGF,sCACE,YAAA,CACA,kBAAA,CACA,eAAA,CACA,mCAAA,CAEA,qBAAA,CAEA,oEACE,YAAA,CACA,qBAAA,CACA,WAAA,CACA,+FACE,YAAA,CACA,iBAAA,CAEF,mFACE,eAAA,CACA,kBAAA,CACA,qGAAA,CAOA,yBAAA,CACA,uCAAA,CACA,kBAAA,CAEF,yFACE,cAAA,CACA,YAAA,CACA,gBAAA,CACA,mBAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA,CACA,2CAAA,CACA,kCAAA,CACA,4BAAA,CACA,iBAAA,CACA,eAAA,CAEF,8KAEE,YAAA,CACA,YAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA,CACA,eAAA,CAGA,sMACE,WAAA,CACA,eAAA,CACA,sBAAA,CACA,mBAAA,CACA,oBAAA,CACA,2BAAA,CAGF,wNACE,eAAA,CACA,eAAA,CACA,gBAAA,CAIJ,sFACE,eAAA,CACA,mCAAA,CACA,iBAAA,CACA,kBAAA,CAEF,oFACE,eAAA,CACA,mCAAA,CACA,iBAAA,CAGF,8FACE,YAAA,CACA,WAAA,CACA,2CAAA,CACA,6BAAA,CACA,2BAAA,CAEA,qIACE,UAAA,CAEF,+HACE,iBAAA,CACA,YAAA,CACA,8BAAA,CACA,iBAAA,CACA,WAAA,CACA,eAAA,CACA,+CAAA,CACA,uBAAA,CACA,sIACE,aAAA,CACA,eAAA,CACA,eAAA,CACA,sBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,cAAA,CACA,YAAA,CACA,cAAA,CACA,4IACE,gCAAA,CAEF,+IACE,uCAAA,CAKN,wIACE,YAAA,CACA,sBAAA,CACA,iBAAA,CACA,mKACE,eAAA,CACA,eAAA,CAGJ,+HACE,WAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAEF,yIACE,gBAAA,CAIJ,2FACE,YAAA,CACA,kBAAA,CACA,cAAA,CAGF,0GACE,cAAA,CACA,yCAAA,CACA,YAAA,CACA,eAAA,CACA,sHACE,eAAA,CACA,UAAA,CAEF,+HACE,YAAA,CACA,6BAAA,CACA,kBAAA,CAGF,kIACE,oBAAA,CACA,cAAA,CACA,cAAA",sourcesContent:["@keyframes barberpole {\n  100% {\n    background-position: 100% 100%;\n  }\n}\n\n.react-flow__handle {\n  height: 15px;\n  width: 15px;\n  border-color: var(--color-page-background);\n}\n\n.react-flow__handle-right {\n  right: -8px;\n  background-color: #fbdc9d;\n}\n.react-flow__handle-left {\n  left: -8px;\n  background-color: #87b6e1;\n}\n\n.gddi-aiappcanvas__simplenode-wrapper {\n  display: flex;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: var(--shadow-simplenode);\n  // background-color: #fff;\n  box-sizing: border-box;\n\n  .gddi-aiappcanvas__simplenode {\n    display: flex;\n    flex-direction: column;\n    width: 320px;\n    .gddi-aiappcanvas__section {\n      padding: 18px;\n      font-size: 1.25rem;\n    }\n    .module-runner {\n      padding-top: 4px;\n      padding-bottom: 4px;\n      background-image: repeating-linear-gradient(\n        -45deg,\n        #f3f3f3,\n        #f3f3f3 1rem,\n        #efebaf 1rem,\n        #efebaf 2rem\n      );\n      background-size: 200% 200%;\n      animation: barberpole 6s linear infinite;\n      margin-bottom: 1rem;\n    }\n    .module-type-display {\n      cursor: default;\n      display: flex;\n      padding-top: 45px;\n      padding-bottom: 45px;\n      margin: 18px;\n      flex-direction: column;\n      text-align: center;\n      background-color: var(--color-moduletype-bg);\n      color: var(--color-moduletype-type);\n      border: 2px solid transparent;\n      border-radius: 4px;\n      font-weight: 600;\n    }\n    .roi-edit-button,\n    .model-select-button {\n      display: flex;\n      padding: 26px;\n      margin: 18px;\n      flex-direction: column;\n      text-align: center;\n      font-weight: 700;\n      // width: 300px;\n\n      .model-name {\n        width: 260px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n      }\n\n      .filterlabel-display {\n        font-weight: 500;\n        font-size: 0.8rem;\n        margin-top: 0.2rem;\n      }\n    }\n\n    .module-type-type {\n      font-size: 0.65em;\n      color: var(--color-moduletype-title);\n      font-style: italic;\n      margin-bottom: 10px;\n    }\n    .module-version {\n      font-size: 0.65em;\n      color: var(--color-moduletype-title);\n      margin-top: 0.25rem;\n    }\n\n    .gddi-aiappcanvas__header {\n      display: flex;\n      height: 57px;\n      border-bottom: 1px solid var(--color-border);\n      justify-content: space-between;\n      color: var(--color-svg-text);\n\n      .gddi-aiappcanvas__dropdown-icon:hover {\n        color: #999999;\n      }\n      .gddi-aiappcanvas__dropdown-menu {\n        position: absolute;\n        z-index: 1000;\n        box-shadow: 0px 1px 5px #4e4e4e;\n        border-radius: 6px;\n        width: 200px;\n        min-width: 200px;\n        background-color: var(--color-button-background);\n        color: var(--color-text);\n        button {\n          color: inherit;\n          text-align: left;\n          font-weight: 500;\n          background: transparent;\n          border: 0;\n          outline: 0;\n          width: 100%;\n          font-size: 15px;\n          padding: 15px;\n          cursor: pointer;\n          &:hover {\n            background-color: rgba(0, 0, 0, 0.05);\n          }\n          &.disabled {\n            color: var(--color-button-text-disabled);\n          }\n        }\n      }\n\n      .gddi-aiappcanvas__simplenode-header-left {\n        display: flex;\n        align-items: flex-start;\n        margin-right: 1rem;\n        .description-question-icon {\n          font-size: 0.8rem;\n          color: #00000069;\n        }\n      }\n      .gddi-aiappcanvas__editable-text {\n        width: 200px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n      .gddi-aiappcanvas__simplenode-header-right {\n        margin-left: 1rem;\n      }\n    }\n\n    .gddi-aiappcanvas__row {\n      padding: 18px;\n      padding-bottom: 0px;\n      font-size: 16px;\n    }\n\n    .gddi-aiappcanvas__simplenode-proprow {\n      font-size: 14px;\n      border-top: 1px solid var(--color-border2);\n      padding: 18px;\n      max-width: 22rem;\n      &:first-child {\n        padding-top: 0px;\n        border: 0px;\n      }\n      .label-input-wrapper {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n\n      .propname-question-icon {\n        color: rgba(0, 0, 0, 0.6);\n        font-size: 1rem;\n        cursor: pointer;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/StringArrayInput.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,'.propname-row{color:rgba(0,0,0,.6);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:.75rem;line-height:1.4375em;letter-spacing:.00938em;display:flex;align-items:center;justify-content:space-between}.propname-row .propname-question-icon{font-size:1rem;cursor:pointer}.propname-row .propname-area{padding:0}.stringchips-area{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:.4rem}.stringchips-area .chip-item{margin-right:.4rem;margin-bottom:.3rem}',"",{version:3,sources:["webpack://./src/AppCanvas/RFNodes/StringArrayInput.scss"],names:[],mappings:"AAAA,cACI,oBAAA,CACA,mDAAA,CACA,eAAA,CACA,gBAAA,CACA,oBAAA,CACA,uBAAA,CAEA,YAAA,CACA,kBAAA,CACA,6BAAA,CAIA,sCACI,cAAA,CACA,cAAA,CAGJ,6BACI,SAAA,CAIR,kBACI,YAAA,CACA,kBAAA,CACA,cAAA,CACA,gBAAA,CAEA,6BACI,kBAAA,CACA,mBAAA",sourcesContent:['.propname-row {\n    color: rgba(0, 0, 0, 0.6);\n    font-family: "Roboto","Helvetica","Arial",sans-serif;\n    font-weight: 400;\n    font-size: 0.75rem;\n    line-height: 1.4375em;\n    letter-spacing: 0.00938em;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    // flex-direction: column;\n\n    .propname-question-icon {\n        font-size: 1rem;\n        cursor: pointer;\n    }\n\n    .propname-area {\n        padding: 0;\n    }\n}\n\n.stringchips-area {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    margin-top: 0.4rem;\n\n    .chip-item {\n        margin-right: 0.4rem;\n        margin-bottom: 0.3rem;\n    }\n}'],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/stories/AddThings.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".story-wrapper{display:flex;flex-direction:column}.story-wrapper .row{display:flex;margin-bottom:8px}.story-wrapper .row button{margin-left:6px;margin-right:6px}","",{version:3,sources:["webpack://./src/stories/AddThings.scss"],names:[],mappings:"AAAA,eACE,YAAA,CACA,qBAAA,CACA,oBACE,YAAA,CACA,iBAAA,CACA,2BACE,eAAA,CACA,gBAAA",sourcesContent:[".story-wrapper {\n  display: flex;\n  flex-direction: column;\n  .row {\n    display: flex;\n    margin-bottom: 8px;\n    button {\n      margin-left: 6px;\n      margin-right: 6px;\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./stories/AddThings.stories.tsx":"./src/stories/AddThings.stories.tsx","./stories/Basic.stories.tsx":"./src/stories/Basic.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./src/AppCanvas/AppCanvas.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AppCanvas_AppCanvas_AppCanvas}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),zustand=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/zustand/index.js")),zustand_default=__webpack_require__.n(zustand),context=__webpack_require__("./node_modules/zustand/context.js"),context_default=__webpack_require__.n(context),immer_esm=(__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/immer/dist/immer.esm.js")),shallow=(__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/zustand/shallow.js")),shallow_default=__webpack_require__.n(shallow),esm=(__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index.js")),Tooltip=__webpack_require__("./node_modules/@mui/material/Tooltip/Tooltip.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),SimpleNodeHandles_SimpleNodeHandles=function SimpleNodeHandles(_ref){var handleIdPrefix=_ref.handleIdPrefix,nodeType=_ref.nodeType,isInput=_ref.isInput,_useStore=useStore((function(state){return{layoutVertically:state.layoutVertically,nodeDef:state.moduleDefinitions[nodeType],connectModules:state.connectModules}}),shallow_default.a),layoutVertically=_useStore.layoutVertically,nodeDef=_useStore.nodeDef,connectModules=_useStore.connectModules,endpointList=Object(react.useMemo)((function(){return isInput?nodeDef&&nodeDef.inputs?nodeDef.inputs:[]:nodeDef&&nodeDef.outputs?nodeDef.outputs:[]}),[nodeDef,isInput]),handleConnectNodes=Object(react.useCallback)((function(params){if(params.source&&params.sourceHandle&&params.target&&params.targetHandle){var srcSplit=params.source.split("-"),sHSplit=params.sourceHandle.split("-"),tarSplit=params.target.split("-"),tHSplit=params.targetHandle.split("-"),srcId=parseInt(srcSplit[srcSplit.length-1],10),sHId=parseInt(sHSplit[sHSplit.length-1],10),tarId=parseInt(tarSplit[tarSplit.length-1],10),tHId=parseInt(tHSplit[tHSplit.length-1],10);connectModules(srcId,sHId,tarId,tHId)}}),[connectModules]),intervalHeight=80/endpointList.length,handlePosition=Object(react.useMemo)((function(){return layoutVertically?isInput?"top":"bottom":isInput?"left":"right"}),[isInput,layoutVertically]);return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)("div",{className:"gddi-aiappcanvas__simplenode-"+(isInput?"input":"output")+"-wrapper",children:endpointList.map((function(ep,idx){return Object(jsx_runtime.jsx)("div",{className:"gddi-aiappcanvas__simplenode-"+(isInput?"input":"output")+"-wrapper-row",children:Object(jsx_runtime.jsx)(Tooltip.a,{title:ep.name,children:Object(jsx_runtime.jsx)(esm.a,{id:handleIdPrefix+"-"+(isInput?"input":"output")+"-"+ep.id.toString(),type:isInput?"target":"source",position:handlePosition,onConnect:handleConnectNodes,style:layoutVertically?{}:{top:70+intervalHeight*(idx+1)},isConnectable:!0})})},(isInput?"input":"output")+"-"+ep.name)}))})})};try{SimpleNodeHandles_SimpleNodeHandles.displayName="SimpleNodeHandles",SimpleNodeHandles_SimpleNodeHandles.__docgenInfo={description:"",displayName:"SimpleNodeHandles",props:{handleIdPrefix:{defaultValue:null,description:"",name:"handleIdPrefix",required:!0,type:{name:"string"}},nodeType:{defaultValue:null,description:"",name:"nodeType",required:!0,type:{name:"string"}},isInput:{defaultValue:null,description:"",name:"isInput",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/SimpleNodeHandles.tsx#SimpleNodeHandles"]={docgenInfo:SimpleNodeHandles_SimpleNodeHandles.__docgenInfo,name:"SimpleNodeHandles",path:"src/AppCanvas/RFNodes/SimpleNodeHandles.tsx#SimpleNodeHandles"})}catch(__react_docgen_typescript_loader_error){}var MoreVert=__webpack_require__("./node_modules/@mui/icons-material/MoreVert.js"),MoreVert_default=__webpack_require__.n(MoreVert);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js");function NodeDropDown_slicedToArray(arr,i){return function NodeDropDown_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function NodeDropDown_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function NodeDropDown_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return NodeDropDown_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NodeDropDown_arrayLikeToArray(o,minLen)}(arr,i)||function NodeDropDown_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NodeDropDown_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NodeDropDown_NodeDropDown=function NodeDropDown(_ref){var onDeleteClick=_ref.onDeleteClick,graphEditingDisabled=useStore((function(state){return{graphEditingDisabled:state.graphEditingDisabled}}),shallow_default.a).graphEditingDisabled,menuRef=Object(react.useRef)(null),_useState2=NodeDropDown_slicedToArray(Object(react.useState)(!1),2),showDd=_useState2[0],setShowDd=_useState2[1],isClickOutside=function useOutsideClick(ref){var _useState2=_slicedToArray(Object(react.useState)(!1),2),isClickOutside=_useState2[0],setIsClickOutside=_useState2[1];return Object(react.useEffect)((function(){function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)?setIsClickOutside(!0):setIsClickOutside(!1)}return document.addEventListener("click",handleClickOutside),function(){document.removeEventListener("click",handleClickOutside)}}),[ref]),isClickOutside}(menuRef),handleIconClick=Object(react.useCallback)((function(){setShowDd(!0)}),[setShowDd]),handleDeleteClick=Object(react.useCallback)((function(){onDeleteClick(),setShowDd(!1)}),[setShowDd,onDeleteClick]);return Object(jsx_runtime.jsxs)(Box.a,{ref:menuRef,role:"menu",sx:{bgcolor:"background.default",color:"text.primary"},children:[Object(jsx_runtime.jsx)(MoreVert_default.a,{className:"gddi-aiappcanvas__dropdown-icon",style:{cursor:"pointer"},onClick:handleIconClick}),Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__dropdown-menu",hidden:isClickOutside||!showDd,children:Object(jsx_runtime.jsx)("button",{className:graphEditingDisabled?"disabled":"",name:"delete",type:"button",disabled:graphEditingDisabled,onClick:handleDeleteClick,children:"Delete"})})]})};NodeDropDown_NodeDropDown.displayName="NodeDropDown";try{NodeDropDown_NodeDropDown.displayName="NodeDropDown",NodeDropDown_NodeDropDown.__docgenInfo={description:"",displayName:"NodeDropDown",props:{onDeleteClick:{defaultValue:null,description:"",name:"onDeleteClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/NodeDropDown.tsx#NodeDropDown"]={docgenInfo:NodeDropDown_NodeDropDown.__docgenInfo,name:"NodeDropDown",path:"src/AppCanvas/RFNodes/NodeDropDown.tsx#NodeDropDown"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js");var Input=__webpack_require__("./node_modules/@mui/material/Input/Input.js");function EditableText_slicedToArray(arr,i){return function EditableText_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EditableText_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EditableText_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EditableText_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EditableText_arrayLikeToArray(o,minLen)}(arr,i)||function EditableText_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditableText_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EditableText_EditableText=function EditableText(_ref){var className=_ref.className,value=_ref.value,disabled=_ref.disabled,onChange=_ref.onChange,_useState2=EditableText_slicedToArray(Object(react.useState)(!1),2),editing=_useState2[0],setEditing=_useState2[1],handleInputChange=Object(react.useCallback)((function(e){onChange(e.target.value)}),[onChange]),handleInputKeyDown=Object(react.useCallback)((function(e){"Enter"===e.key&&setEditing(!1)}),[setEditing]),handleBlur=Object(react.useCallback)((function(){setEditing(!1)}),[setEditing]),handleTextClick=Object(react.useCallback)((function(){!0!==disabled&&setEditing(!0)}),[setEditing,disabled]),readingMode=Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__editable-text",style:{cursor:!0===disabled?"default":"pointer"},onClick:handleTextClick,role:"button",tabIndex:-1,onKeyDown:handleTextClick,children:value})}),[value,disabled,handleTextClick]),editingMode=Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)(Input.a,{className:"editabletext-input",style:{},value:value,inputProps:{"aria-label":"description"},onChange:handleInputChange,autoFocus:!0,onBlur:handleBlur,onKeyDown:handleInputKeyDown})}),[handleInputChange,handleBlur,handleInputKeyDown,value]);return Object(jsx_runtime.jsx)(Box.a,{className:className,children:editing?editingMode:readingMode})};EditableText_EditableText.displayName="EditableText";try{EditableText_EditableText.displayName="EditableText",EditableText_EditableText.__docgenInfo={description:"",displayName:"EditableText",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newVal: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/EditableText.tsx#EditableText"]={docgenInfo:EditableText_EditableText.__docgenInfo,name:"EditableText",path:"src/AppCanvas/Components/EditableText.tsx#EditableText"})}catch(__react_docgen_typescript_loader_error){}var KeyboardArrowDownTwoTone=__webpack_require__("./node_modules/@mui/icons-material/KeyboardArrowDownTwoTone.js"),KeyboardArrowDownTwoTone_default=__webpack_require__.n(KeyboardArrowDownTwoTone),KeyboardArrowUpTwoTone=__webpack_require__("./node_modules/@mui/icons-material/KeyboardArrowUpTwoTone.js"),KeyboardArrowUpTwoTone_default=__webpack_require__.n(KeyboardArrowUpTwoTone),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),Components_CollapseContainer=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/Components/CollapseContainer.scss"),CollapseContainer_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Components_CollapseContainer.a,CollapseContainer_options),Components_CollapseContainer.a.locals;function CollapseContainer_slicedToArray(arr,i){return function CollapseContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CollapseContainer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CollapseContainer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CollapseContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CollapseContainer_arrayLikeToArray(o,minLen)}(arr,i)||function CollapseContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CollapseContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CollapseContainer_CollapseContainer=function CollapseContainer(_ref){var title=_ref.title,children=_ref.children,onOpen=_ref.onOpen,_useState2=CollapseContainer_slicedToArray(Object(react.useState)(!1),2),open=_useState2[0],setOpen=_useState2[1],handleHeaderClick=Object(react.useCallback)((function(){setOpen(!open),onOpen&&onOpen()}),[open,setOpen,onOpen]);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("div",{className:"gddi-aiappcanvas__collapse-header",role:"button",tabIndex:-1,onClick:handleHeaderClick,onKeyDown:handleHeaderClick,children:[Object(jsx_runtime.jsx)("span",{children:title}),open?Object(jsx_runtime.jsx)(KeyboardArrowUpTwoTone_default.a,{}):Object(jsx_runtime.jsx)(KeyboardArrowDownTwoTone_default.a,{})]}),open&&Object(jsx_runtime.jsx)("div",{className:"gddi-aiappcanvas__collapse-body",children:children})]})};CollapseContainer_CollapseContainer.displayName="CollapseContainer";try{CollapseContainer_CollapseContainer.displayName="CollapseContainer",CollapseContainer_CollapseContainer.__docgenInfo={description:"",displayName:"CollapseContainer",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/CollapseContainer.tsx#CollapseContainer"]={docgenInfo:CollapseContainer_CollapseContainer.__docgenInfo,name:"CollapseContainer",path:"src/AppCanvas/Components/CollapseContainer.tsx#CollapseContainer"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var Dialog=__webpack_require__("./node_modules/@mui/material/Dialog/Dialog.js"),DialogTitle=__webpack_require__("./node_modules/@mui/material/DialogTitle/DialogTitle.js"),DialogContent=__webpack_require__("./node_modules/@mui/material/DialogContent/DialogContent.js"),IconButton=__webpack_require__("./node_modules/@mui/material/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/Close.js"),Close_default=__webpack_require__.n(Close),_excluded=["children","onClose"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var MyDialog_BootstrapDialogTitle=function BootstrapDialogTitle(props){var children=props.children,onClose=props.onClose,other=_objectWithoutProperties(props,_excluded);return Object(jsx_runtime.jsxs)(DialogTitle.a,Object.assign({sx:{m:0,p:2}},other,{children:[children,onClose?Object(jsx_runtime.jsx)(IconButton.a,{"aria-label":"close",onClick:onClose,sx:{position:"absolute",right:8,top:8,color:function color(theme){return theme.palette.grey[500]}},children:Object(jsx_runtime.jsx)(Close_default.a,{})}):null]}))};MyDialog_BootstrapDialogTitle.displayName="BootstrapDialogTitle";var MyDialog_MyDialog=function MyDialog(_ref){var open=_ref.open,title=_ref.title,onClose=(_ref.okTitle,_ref.onClose),renderContent=_ref.renderContent,handleClose=Object(react.useCallback)((function(){onClose()}),[]);return Object(jsx_runtime.jsxs)(Dialog.a,{fullScreen:!0,onClose:handleClose,"aria-labelledby":"customized-dialog-title",open:open,children:[Object(jsx_runtime.jsx)(MyDialog_BootstrapDialogTitle,{id:"customized-dialog-title",onClose:handleClose,children:title}),Object(jsx_runtime.jsx)(DialogContent.a,{sx:{overflow:"hidden"},dividers:!0,children:renderContent()})]})};MyDialog_MyDialog.displayName="MyDialog";try{MyDialog_MyDialog.displayName="MyDialog",MyDialog_MyDialog.__docgenInfo={description:"",displayName:"MyDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},okTitle:{defaultValue:null,description:"",name:"okTitle",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},renderContent:{defaultValue:null,description:"",name:"renderContent",required:!0,type:{name:"() => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/MyDialog.tsx#MyDialog"]={docgenInfo:MyDialog_MyDialog.__docgenInfo,name:"MyDialog",path:"src/AppCanvas/Components/MyDialog.tsx#MyDialog"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),AppBar=__webpack_require__("./node_modules/@mui/material/AppBar/AppBar.js"),Toolbar=__webpack_require__("./node_modules/@mui/material/Toolbar/Toolbar.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),Slide=__webpack_require__("./node_modules/@mui/material/Slide/Slide.js");function MyFullScreenDialog_slicedToArray(arr,i){return function MyFullScreenDialog_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MyFullScreenDialog_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MyFullScreenDialog_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MyFullScreenDialog_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MyFullScreenDialog_arrayLikeToArray(o,minLen)}(arr,i)||function MyFullScreenDialog_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MyFullScreenDialog_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MyFullScreenDialog_Transition=react_default.a.forwardRef((function Transition(props,ref){return Object(jsx_runtime.jsx)(Slide.a,Object.assign({direction:"up",ref:ref},props))})),MyFullScreenDialog_MyFullScreenDialog=function MyFullScreenDialog(_ref){var open=_ref.open,title=_ref.title,okTitle=_ref.okTitle,onClose=_ref.onClose,onOK=_ref.onOK,renderContent=_ref.renderContent,_useState2=MyFullScreenDialog_slicedToArray(Object(react.useState)(void 0),2),contentVal=_useState2[0],setContentVal=_useState2[1],handleClose=Object(react.useCallback)((function(){onClose()}),[]),handleContentValChange=Object(react.useCallback)((function(val){setContentVal(val)}),[]),handleOk=Object(react.useCallback)((function(){onOK(contentVal)}),[]);return Object(jsx_runtime.jsxs)(Dialog.a,{fullScreen:!0,open:open,onClose:handleClose,TransitionComponent:MyFullScreenDialog_Transition,children:[Object(jsx_runtime.jsx)(AppBar.a,{sx:{position:"relative"},children:Object(jsx_runtime.jsxs)(Toolbar.a,{children:[Object(jsx_runtime.jsx)(IconButton.a,{edge:"start",color:"inherit",onClick:handleClose,"aria-label":"close",children:Object(jsx_runtime.jsx)(Close_default.a,{})}),Object(jsx_runtime.jsx)(Typography.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:title}),Object(jsx_runtime.jsx)(Button.a,{autoFocus:!0,color:"inherit",onClick:handleOk,children:okTitle})]})}),renderContent({val:contentVal,onValChange:handleContentValChange})]})};MyFullScreenDialog_MyFullScreenDialog.displayName="MyFullScreenDialog";try{MyFullScreenDialog_MyFullScreenDialog.displayName="MyFullScreenDialog",MyFullScreenDialog_MyFullScreenDialog.__docgenInfo={description:"",displayName:"MyFullScreenDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},okTitle:{defaultValue:null,description:"",name:"okTitle",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onOK:{defaultValue:null,description:"",name:"onOK",required:!0,type:{name:"(okVal: any) => void"}},renderContent:{defaultValue:null,description:"",name:"renderContent",required:!0,type:{name:"(props: ContentProps) => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/MyFullScreenDialog.tsx#MyFullScreenDialog"]={docgenInfo:MyFullScreenDialog_MyFullScreenDialog.__docgenInfo,name:"MyFullScreenDialog",path:"src/AppCanvas/Components/MyFullScreenDialog.tsx#MyFullScreenDialog"})}catch(__react_docgen_typescript_loader_error){}var fabric=__webpack_require__("./node_modules/fabric/dist/fabric.js");__webpack_require__("./node_modules/core-js/modules/es.number.to-fixed.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DrawRectAssistant_DrawRectAssistant=function(){function DrawRectAssistant(){var _this=this,twoPointMode=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,DrawRectAssistant),this.twoPointMode=void 0,this.status=void 0,this.rect=void 0,this.text=void 0,this.pt1=void 0,this.pt2=void 0,this.pt3=void 0,this.pt4=void 0,this.addToCanvas=function(canvas){canvas.add(_this.rect,_this.text)},this.removeFromCanvas=function(){var _this$rect$canvas,_this$rect$canvas2;null===(_this$rect$canvas=_this.rect.canvas)||void 0===_this$rect$canvas||_this$rect$canvas.remove(_this.text),null===(_this$rect$canvas2=_this.rect.canvas)||void 0===_this$rect$canvas2||_this$rect$canvas2.remove(_this.rect)},this.setPoint=function(x,y){switch(_this.status){case"init":_this.set1stPoint(x,y);break;case"pt1":_this.set2ndPoint(x,y)}},this.endDraw=function(){var rectDim={top:_this.rect.top||0,left:_this.rect.left||0,width:_this.rect.width||0,height:_this.rect.height||0};return(_this.twoPointMode&&"pt1"===_this.status||!_this.twoPointMode&&"pt3"===_this.status)&&(_this.status="init",_this.rect.set({top:0,left:0,width:0,height:0}),_this.text.visible=!1),rectDim},this.set1stPoint=function(x,y){_this.pt1.setX(x),_this.pt1.setY(y),_this.status="pt1"},this.set2ndPoint=function(x,y){if(_this.pt2.setX(x),_this.pt2.setY(y),_this.twoPointMode){var width=Math.abs(_this.pt1.x-_this.pt2.x),height=Math.abs(_this.pt1.y-_this.pt2.y);_this.rect.set({top:Math.min(_this.pt1.y,_this.pt2.y),left:Math.min(_this.pt1.x,_this.pt2.x),width:width,height:height}),_this.text.set({text:width.toFixed(0)+"x"+height.toFixed(0),top:Math.min(_this.pt1.y,_this.pt2.y)+5,left:Math.min(_this.pt1.x,_this.pt2.x)+10}),_this.text.visible||(_this.text.visible=!0),_this.rect.setCoords()}else _this.status="pt2"},this.twoPointMode=twoPointMode,this.status="init",this.rect=new fabric.fabric.Rect({name:"drawRectAssistRect",fill:"#eeeeff8a",stroke:"black",strokeWidth:1,top:0,left:0,width:0,height:0,selectable:!1}),this.text=new fabric.fabric.Text("233x644",{top:0,left:0,fontSize:24,fontFamily:"serif",fontWeight:"bold",selectable:!1,fill:"white"}),this.pt1=new fabric.fabric.Point(0,0),this.pt2=new fabric.fabric.Point(0,0),this.pt3=new fabric.fabric.Point(0,0),this.pt4=new fabric.fabric.Point(0,0)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DrawRectAssistant,[{key:"TwoPointMode",get:function get(){return this.twoPointMode},set:function set(twoPointMode){this.twoPointMode=twoPointMode}},{key:"Status",get:function get(){return this.status}}]),DrawRectAssistant}();function getBoxDimensionFromRegion(region,imgW,imgH){return{top:region[1]*imgH,left:region[0]*imgW,width:region[2]*imgW,height:region[3]*imgH}}var Crop169=__webpack_require__("./node_modules/@mui/icons-material/Crop169.js"),Crop169_default=__webpack_require__.n(Crop169),Delete=__webpack_require__("./node_modules/@mui/icons-material/Delete.js"),Delete_default=__webpack_require__.n(Delete),Backspace=__webpack_require__("./node_modules/@mui/icons-material/Backspace.js"),Backspace_default=__webpack_require__.n(Backspace),ToggleButton=__webpack_require__("./node_modules/@mui/material/ToggleButton/ToggleButton.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return ROICanvas_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ROICanvas_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROICanvas_slicedToArray(arr,i){return function ROICanvas_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ROICanvas_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ROICanvas_unsupportedIterableToArray(arr,i)||function ROICanvas_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROICanvas_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ROICanvas_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ROICanvas_arrayLikeToArray(o,minLen):void 0}}function ROICanvas_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ImageInitSetting={shadow:new fabric.fabric.Shadow({color:"#8fa8bf",blur:20,offsetX:8,offsetY:18}),selectable:!1};function ROICanvas(_ref){var disable=_ref.disable,imgUrl=_ref.imgUrl,regions=_ref.regions,onRegionsChange=_ref.onRegionsChange,addRegion=_ref.addRegion,popRegion=_ref.popRegion,_useState2=ROICanvas_slicedToArray(Object(react.useState)("default"),2),mode=_useState2[0],setMode=_useState2[1],modeRef=Object(react.useRef)("default"),appRef=Object(react.useRef)(void 0),canvasRef=Object(react.useRef)(null),imgRef=Object(react.useRef)(void 0),isDragging=Object(react.useRef)(!1),lastPosX=Object(react.useRef)(0),lastPosY=Object(react.useRef)(0),assistRef=Object(react.useRef)(void 0),boxesRef=Object(react.useRef)([]),handleDeleteAll=Object(react.useCallback)((function(){onRegionsChange([])}),[]),handleDeleteLast=Object(react.useCallback)((function(){popRegion()}),[]),addROIBox=function addROIBox(_ref2){var top=_ref2.top,left=_ref2.left,width=_ref2.width,height=_ref2.height;if(void 0!==imgRef.current){var imgW=imgRef.current.width,imgH=imgRef.current.height,cropRes=function cropBox(_ref){var xtl=_ref.xtl,ytl=_ref.ytl,xbr=_ref.xbr,ybr=_ref.ybr,imgW=_ref.imgW,imgH=_ref.imgH;return xtl>0+imgW||ytl>0+imgH||xbr<0||ybr<0?null:{xtl:xtl=Math.max(0,xtl),ytl:ytl=Math.max(0,ytl),xbr:xbr=Math.min(0+imgW,xbr),ybr:ybr=Math.min(0+imgH,ybr)}}({xtl:left,ytl:top,xbr:left+width,ybr:top+height,imgW:imgW,imgH:imgH});if(null!==cropRes){var _newRegion=function getRegionFromBoxCorner(corners,imgW,imgH){var width=corners.xbr-corners.xtl,height=corners.ybr-corners.ytl;return[corners.xtl/imgW,corners.ytl/imgH,width/imgW,height/imgH]}(cropRes,imgW,imgH);addRegion(_toConsumableArray(_newRegion))}}},updateBoxes=Object(react.useCallback)((function(regions,imgW,imgH){boxesRef.current.forEach((function(box){var _appRef$current;null===(_appRef$current=appRef.current)||void 0===_appRef$current||_appRef$current.remove(box)})),boxesRef.current=[],regions.forEach((function(region,idx){var _appRef$current2,_getBoxDimensionFromR=getBoxDimensionFromRegion(region,imgW,imgH),top=_getBoxDimensionFromR.top,left=_getBoxDimensionFromR.left,width=_getBoxDimensionFromR.width,height=_getBoxDimensionFromR.height,newBox=new fabric.fabric.Rect({name:"roi-"+idx,data:{id:idx,type:"box",region:_toConsumableArray(region)},fill:"rgba(68, 227, 110, 0.3)",stroke:"rgb(68, 227, 110)",strokeWidth:1,strokeUniform:!0,top:top,left:left,width:width,height:height,selectable:!1,visible:!0});null===(_appRef$current2=appRef.current)||void 0===_appRef$current2||_appRef$current2.add(newBox),boxesRef.current.push(newBox)}))}),[boxesRef.current,appRef.current]),handleDrawBoxToggleChange=Object(react.useCallback)((function(){"box"===mode?(setMode("default"),modeRef.current="default"):(setMode("box"),modeRef.current="box")}),[mode,setMode]),handleCanvasWheel=Object(react.useCallback)((function(opt){var _appRef$current3,_appRef$current4,evt=opt.e,delta=evt.deltaY,zoom=null===(_appRef$current3=appRef.current)||void 0===_appRef$current3?void 0:_appRef$current3.getZoom();zoom&&((zoom*=Math.pow(.999,2*delta))>20&&(zoom=20),zoom<.05&&(zoom=.05),null===(_appRef$current4=appRef.current)||void 0===_appRef$current4||_appRef$current4.zoomToPoint({x:evt.offsetX,y:evt.offsetY},zoom));opt.e.preventDefault(),opt.e.stopPropagation()}),[appRef.current]),handleCanvasDown=Object(react.useCallback)((function(opt){if("box"!==modeRef.current)startPan(opt);else if(void 0!==appRef.current&&void 0!==assistRef.current){var pt=appRef.current.getPointer(opt.e);if("init"===assistRef.current.Status)assistRef.current.setPoint(pt.x,pt.y),assistRef.current.addToCanvas(appRef.current),appRef.current.requestRenderAll();else if("pt1"===assistRef.current.Status){assistRef.current.setPoint(pt.x,pt.y);var _assistRef$current$en=assistRef.current.endDraw(),top=_assistRef$current$en.top,left=_assistRef$current$en.left,width=_assistRef$current$en.width,height=_assistRef$current$en.height;addROIBox({top:top,left:left,width:width,height:height}),assistRef.current.removeFromCanvas()}}}),[modeRef.current,assistRef.current,appRef.current,regions]),handleCanvasMove=Object(react.useCallback)((function(opt){if("box"!==modeRef.current)panMoving(opt);else if(void 0!==appRef.current&&void 0!==assistRef.current){var evt=opt.e,pt=appRef.current.getPointer(evt);"pt1"===assistRef.current.Status&&(assistRef.current.setPoint(pt.x,pt.y),appRef.current.requestRenderAll())}}),[modeRef.current,assistRef.current,appRef.current]),handleCanvasUp=Object(react.useCallback)((function(){"box"!==modeRef.current&&endPan()}),[modeRef.current]),startPan=Object(react.useCallback)((function(opt){var evt=opt.e;appRef.current&&(isDragging.current=!0,lastPosX.current=evt.clientX,lastPosY.current=evt.clientY)}),[appRef.current,isDragging.current,lastPosX.current,lastPosY.current]),panMoving=Object(react.useCallback)((function(opt){if(isDragging.current&&appRef.current){var e=opt.e,vpt=appRef.current.viewportTransform;vpt&&(vpt[4]+=e.clientX-lastPosX.current,vpt[5]+=e.clientY-lastPosY.current,appRef.current.requestRenderAll()),lastPosX.current=e.clientX,lastPosY.current=e.clientY}}),[]),endPan=Object(react.useCallback)((function(){appRef.current&&appRef.current.viewportTransform&&(appRef.current.setViewportTransform(appRef.current.viewportTransform),isDragging.current=!1)}),[]);return Object(react.useEffect)((function(){void 0!==imgRef.current&&updateBoxes(regions,imgRef.current.width,imgRef.current.height)}),[regions]),Object(react.useEffect)((function(){void 0!==appRef.current&&void 0!==imgUrl&&void 0!==imgRef.current?imgRef.current.setSrc(imgUrl,(function(img){var _appRef$current5;img.set(Object.assign({},ImageInitSetting,{data:{type:"image",url:imgUrl,name:imgUrl}})),updateBoxes(regions,img.width,img.height),null===(_appRef$current5=appRef.current)||void 0===_appRef$current5||_appRef$current5.requestRenderAll()})):void 0!==imgUrl&&void 0!==appRef.current&&fabric.fabric.Image.fromURL(imgUrl,(function(img){var _appRef$current6;img.set(Object.assign({},ImageInitSetting,{data:{type:"image",url:imgUrl,name:imgUrl}})),imgRef.current=img,null===(_appRef$current6=appRef.current)||void 0===_appRef$current6||_appRef$current6.add(img);var imgW=img.width,imgH=img.height;regions.forEach((function(region,idx){var _appRef$current7,_getBoxDimensionFromR2=getBoxDimensionFromRegion(region,imgW,imgH),top=_getBoxDimensionFromR2.top,left=_getBoxDimensionFromR2.left,width=_getBoxDimensionFromR2.width,height=_getBoxDimensionFromR2.height,newBox=new fabric.fabric.Rect({name:"roi-"+idx,data:{id:idx,type:"box",region:_toConsumableArray(region)},fill:"rgba(68, 227, 110, 0.3)",stroke:"rgb(68, 227, 110)",strokeWidth:1,strokeUniform:!0,top:top,left:left,width:width,height:height,selectable:!1,visible:!0});null===(_appRef$current7=appRef.current)||void 0===_appRef$current7||_appRef$current7.add(newBox),boxesRef.current.push(newBox)}))}))}),[imgUrl]),Object(react.useEffect)((function(){if(canvasRef.current&&void 0===appRef.current){var _canvasRef$current,_canvasRef$current$pa,_canvasRef$current2,_canvasRef$current2$p,app=new fabric.fabric.Canvas(canvasRef.current,{width:null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current||null===(_canvasRef$current$pa=_canvasRef$current.parentElement)||void 0===_canvasRef$current$pa?void 0:_canvasRef$current$pa.clientWidth,height:null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2||null===(_canvasRef$current2$p=_canvasRef$current2.parentElement)||void 0===_canvasRef$current2$p?void 0:_canvasRef$current2$p.clientHeight,fireRightClick:!0,stopContextMenu:!0,uniformScaling:!1});app.hoverCursor="default",app.on("mouse:wheel",handleCanvasWheel),app.on("mouse:down",handleCanvasDown),app.on("mouse:move",handleCanvasMove),app.on("mouse:up",handleCanvasUp),appRef.current=app,void 0===assistRef.current&&(assistRef.current=new DrawRectAssistant_DrawRectAssistant),imgUrl&&fabric.fabric.Image.fromURL(imgUrl,(function(img){img.set(Object.assign({},ImageInitSetting,{data:{type:"image",url:imgUrl,name:imgUrl}})),imgRef.current=img,app.add(img);var imgW=img.width,imgH=img.height;regions.forEach((function(region,idx){var _getBoxDimensionFromR3=getBoxDimensionFromRegion(region,imgW,imgH),top=_getBoxDimensionFromR3.top,left=_getBoxDimensionFromR3.left,width=_getBoxDimensionFromR3.width,height=_getBoxDimensionFromR3.height,newBox=new fabric.fabric.Rect({name:"roi-"+idx,data:{id:idx,type:"box",region:_toConsumableArray(region)},fill:"rgba(68, 227, 110, 0.3)",stroke:"rgb(68, 227, 110)",strokeWidth:1,strokeUniform:!0,top:top,left:left,width:width,height:height,selectable:!1,visible:!0});app.add(newBox),boxesRef.current.push(newBox)}))}))}return function(){appRef.current}}),[canvasRef.current]),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("canvas",{ref:canvasRef}),Object(jsx_runtime.jsxs)(Box.a,{sx:{position:"absolute",top:"1rem",left:"1rem"},children:[Object(jsx_runtime.jsx)(ToggleButton.a,{disabled:!0===disable,sx:{backgroundColor:"#fbfbfbbd"},value:"box",selected:"box"===mode,onChange:handleDrawBoxToggleChange,children:Object(jsx_runtime.jsx)(Crop169_default.a,{})}),Object(jsx_runtime.jsx)(IconButton.a,{disabled:!0===disable,size:"small",sx:{backgroundColor:"#ffffff9e",marginLeft:"4rem"},"aria-label":"delete all",component:"span",onClick:handleDeleteAll,children:Object(jsx_runtime.jsx)(Delete_default.a,{})}),Object(jsx_runtime.jsx)(IconButton.a,{disabled:!0===disable,size:"small",sx:{backgroundColor:"#ffffff9e",marginLeft:"0.8rem"},"aria-label":"remove last added",component:"span",onClick:handleDeleteLast,children:Object(jsx_runtime.jsx)(Backspace_default.a,{})})]})]})}try{ROICanvas.displayName="ROICanvas",ROICanvas.__docgenInfo={description:"",displayName:"ROICanvas",props:{disable:{defaultValue:null,description:"",name:"disable",required:!1,type:{name:"boolean"}},imgUrl:{defaultValue:null,description:"",name:"imgUrl",required:!0,type:{name:"string | undefined"}},regions:{defaultValue:null,description:"",name:"regions",required:!0,type:{name:"number[][]"}},onRegionsChange:{defaultValue:null,description:"",name:"onRegionsChange",required:!0,type:{name:"(newRegions: number[][]) => void"}},addRegion:{defaultValue:null,description:"",name:"addRegion",required:!0,type:{name:"(newRegion: number[]) => void"}},popRegion:{defaultValue:null,description:"",name:"popRegion",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/ROICanvas.tsx#ROICanvas"]={docgenInfo:ROICanvas.__docgenInfo,name:"ROICanvas",path:"src/AppCanvas/Components/ROICanvas.tsx#ROICanvas"})}catch(__react_docgen_typescript_loader_error){}var Search=__webpack_require__("./node_modules/@mui/icons-material/Search.js"),Search_default=__webpack_require__.n(Search),Paper=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),InputBase=__webpack_require__("./node_modules/@mui/material/InputBase/InputBase.js"),Cancel=__webpack_require__("./node_modules/@mui/icons-material/Cancel.js"),Cancel_default=__webpack_require__.n(Cancel);function SearchBar_slicedToArray(arr,i){return function SearchBar_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SearchBar_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SearchBar_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SearchBar_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SearchBar_arrayLikeToArray(o,minLen)}(arr,i)||function SearchBar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SearchBar_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SearchBar_SearchBar=function SearchBar(_ref){var disabled=_ref.disabled,onRequestSearch=_ref.onRequestSearch,onCancelSearch=_ref.onCancelSearch,_useState2=SearchBar_slicedToArray(Object(react.useState)(""),2),value=_useState2[0],setValue=_useState2[1],handleInputChange=Object(react.useCallback)((function(event){setValue(event.target.value)}),[]),handleCancelClick=Object(react.useCallback)((function(){setValue(""),onCancelSearch&&onCancelSearch()}),[]),handleSubmitClick=Object(react.useCallback)((function(event){event.preventDefault();var form=event.currentTarget;onRequestSearch&&onRequestSearch(form.elements.searchValue.value)}),[]);return Object(jsx_runtime.jsxs)(Paper.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},onSubmit:handleSubmitClick,children:[Object(jsx_runtime.jsx)(IconButton.a,{disabled:disabled,type:"submit",sx:{p:"10px"},"aria-label":"search",children:Object(jsx_runtime.jsx)(Search_default.a,{})}),Object(jsx_runtime.jsx)(InputBase.c,{id:"searchValue",disabled:disabled,sx:{ml:1,flex:1},placeholder:"Search By Model Name",inputProps:{"aria-label":"search model name"},value:value,onChange:handleInputChange}),""===value?null:Object(jsx_runtime.jsx)(IconButton.a,{sx:{p:"10px"},"aria-label":"cancel",onClick:handleCancelClick,children:Object(jsx_runtime.jsx)(Cancel_default.a,{})})]})};SearchBar_SearchBar.displayName="SearchBar";try{SearchBar_SearchBar.displayName="SearchBar",SearchBar_SearchBar.__docgenInfo={description:"",displayName:"SearchBar",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onRequestSearch:{defaultValue:null,description:"",name:"onRequestSearch",required:!1,type:{name:"((value: string) => void)"}},onCancelSearch:{defaultValue:null,description:"",name:"onCancelSearch",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/SearchBar.tsx#SearchBar"]={docgenInfo:SearchBar_SearchBar.__docgenInfo,name:"SearchBar",path:"src/AppCanvas/Components/SearchBar.tsx#SearchBar"})}catch(__react_docgen_typescript_loader_error){}var index_module=__webpack_require__("./node_modules/react-colorful/dist/index.module.js"),Components_PopoverColorPicker=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/Components/PopoverColorPicker.scss"),PopoverColorPicker_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Components_PopoverColorPicker.a,PopoverColorPicker_options),Components_PopoverColorPicker.a.locals;function PopoverColorPicker_slicedToArray(arr,i){return function PopoverColorPicker_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PopoverColorPicker_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PopoverColorPicker_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PopoverColorPicker_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PopoverColorPicker_arrayLikeToArray(o,minLen)}(arr,i)||function PopoverColorPicker_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PopoverColorPicker_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PopoverColorPicker_PopoverColorPicker=function PopoverColorPicker(_ref){var disabled=_ref.disabled,color=_ref.color,onChange=_ref.onChange,_useState2=PopoverColorPicker_slicedToArray(Object(react.useState)(color),2),colorTmp=_useState2[0],setColorTmp=_useState2[1],popover=Object(react.useRef)(null),_useState4=PopoverColorPicker_slicedToArray(Object(react.useState)(!1),2),isOpen=_useState4[0],toggle=_useState4[1],handleSwatchClick=Object(react.useCallback)((function(){disabled||toggle(!0)}),[disabled]),close=Object(react.useCallback)((function(){toggle(!1),colorTmp.r===color.r&&colorTmp.g===color.g&&colorTmp.b===color.b||onChange(colorTmp)}),[colorTmp]),handlePickerChange=Object(react.useCallback)((function(newColor){setColorTmp(newColor)}),[]);return function useOutsideClick2(ref,handler){Object(react.useEffect)((function(){var startedInside=!1,startedWhenMounted=!1,listener=function listener(event){!startedInside&&startedWhenMounted&&ref.current&&!ref.current.contains(event.target)&&handler(event)},validateEventStart=function validateEventStart(event){startedWhenMounted=ref.current,startedInside=ref.current&&ref.current.contains(event.target)};return document.addEventListener("mousedown",validateEventStart),document.addEventListener("touchstart",validateEventStart),document.addEventListener("click",listener),function(){document.removeEventListener("mousedown",validateEventStart),document.removeEventListener("touchstart",validateEventStart),document.removeEventListener("click",listener)}}),[ref,handler])}(popover,close),Object(react.useEffect)((function(){setColorTmp(color)}),[color]),Object(jsx_runtime.jsxs)("div",{className:"picker",children:[Object(jsx_runtime.jsx)("div",{className:"swatch "+(disabled&&"disabled"),style:{backgroundColor:"rgb("+color.r+" "+color.g+" "+color.b+")"},onClick:handleSwatchClick}),isOpen&&Object(jsx_runtime.jsx)("div",{className:"popover",ref:popover,children:Object(jsx_runtime.jsx)(index_module.d,{color:colorTmp,onChange:handlePickerChange})})]})};PopoverColorPicker_PopoverColorPicker.displayName="PopoverColorPicker";try{PopoverColorPicker_PopoverColorPicker.displayName="PopoverColorPicker",PopoverColorPicker_PopoverColorPicker.__docgenInfo={description:"",displayName:"PopoverColorPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"RgbColor"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newColor: RgbColor) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/PopoverColorPicker.tsx#PopoverColorPicker"]={docgenInfo:PopoverColorPicker_PopoverColorPicker.__docgenInfo,name:"PopoverColorPicker",path:"src/AppCanvas/Components/PopoverColorPicker.tsx#PopoverColorPicker"})}catch(__react_docgen_typescript_loader_error){}var tooltipClasses=__webpack_require__("./node_modules/@mui/material/Tooltip/tooltipClasses.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),HtmlToolTip_excluded=["className"];function HtmlToolTip_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function HtmlToolTip_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var HtmlTooltip=Object(styled.a)((function(_ref){var className=_ref.className,props=HtmlToolTip_objectWithoutProperties(_ref,HtmlToolTip_excluded);return Object(jsx_runtime.jsx)(Tooltip.a,Object.assign({},props,{classes:{popper:className}}))}))((function(_ref2){var _ref3,theme=_ref2.theme;return(_ref3={})["& ."+tooltipClasses.a.tooltip]={backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:theme.typography.pxToRem(12),border:"1px solid #dadde9"},_ref3}));try{HtmlTooltip.displayName="HtmlTooltip",HtmlTooltip.__docgenInfo={description:"",displayName:"HtmlTooltip",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/HtmlToolTip.tsx#HtmlTooltip"]={docgenInfo:HtmlTooltip.__docgenInfo,name:"HtmlTooltip",path:"src/AppCanvas/Components/HtmlToolTip.tsx#HtmlTooltip"})}catch(__react_docgen_typescript_loader_error){}var Components_VersionTag=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/Components/VersionTag.scss"),VersionTag_options={insert:"head",singleton:!1},VersionTag_VersionTag=(injectStylesIntoStyleTag_default()(Components_VersionTag.a,VersionTag_options),Components_VersionTag.a.locals,function VersionTag(_ref){var version=_ref.version;return Object(jsx_runtime.jsx)(Box.a,{className:"versiontag-wrapper",children:"version: "+version})});VersionTag_VersionTag.displayName="VersionTag";try{VersionTag_VersionTag.displayName="VersionTag",VersionTag_VersionTag.__docgenInfo={description:"",displayName:"VersionTag",props:{version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/Components/VersionTag.tsx#VersionTag"]={docgenInfo:VersionTag_VersionTag.__docgenInfo,name:"VersionTag",path:"src/AppCanvas/Components/VersionTag.tsx#VersionTag"})}catch(__react_docgen_typescript_loader_error){}var RFNodes_StringArrayInput=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/StringArrayInput.scss"),StringArrayInput_options={insert:"head",singleton:!1},Chip=(injectStylesIntoStyleTag_default()(RFNodes_StringArrayInput.a,StringArrayInput_options),RFNodes_StringArrayInput.a.locals,__webpack_require__("./node_modules/@mui/material/Chip/Chip.js")),HelpOutline=__webpack_require__("./node_modules/@mui/icons-material/HelpOutline.js"),HelpOutline_default=__webpack_require__.n(HelpOutline);function StringArrayInput_toConsumableArray(arr){return function StringArrayInput_arrayWithoutHoles(arr){if(Array.isArray(arr))return StringArrayInput_arrayLikeToArray(arr)}(arr)||function StringArrayInput_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||StringArrayInput_unsupportedIterableToArray(arr)||function StringArrayInput_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StringArrayInput_slicedToArray(arr,i){return function StringArrayInput_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function StringArrayInput_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||StringArrayInput_unsupportedIterableToArray(arr,i)||function StringArrayInput_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StringArrayInput_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return StringArrayInput_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?StringArrayInput_arrayLikeToArray(o,minLen):void 0}}function StringArrayInput_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var StringArrayInput_StringArrayInput=function StringArrayInput(_ref){var readonly=_ref.readonly,propName=_ref.propName,value=_ref.value,propDefinition=_ref.propDefinition,dependentNodeIds=_ref.dependentNodeIds,onChange=_ref.onChange,_useState2=StringArrayInput_slicedToArray(Object(react.useState)(void 0===value&&null!=propDefinition&&propDefinition.default?null==propDefinition?void 0:propDefinition.default:value),2),value1=_useState2[0],setValue1=_useState2[1],options=Object(react.useMemo)((function(){var oSet=new Set;null!=propDefinition&&propDefinition.enum&&(null==propDefinition?void 0:propDefinition.enum.length)>0&&(null==propDefinition?void 0:propDefinition.enum).forEach((function(str){oSet.add(str.toString())}));return Array.from(oSet).sort()}),[null==propDefinition?void 0:propDefinition.enum]),handleChipClick=Object(react.useCallback)((function(opt){var newVal=[];value1&&(newVal=StringArrayInput_toConsumableArray(value1));var optIdx=newVal.findIndex((function(val){return val===opt}));optIdx>=0?newVal.splice(optIdx,1):newVal.push(opt),onChange(newVal)}),[value1,onChange]),DependentToolTipTitle=Object(react.useMemo)((function(){return Object(jsx_runtime.jsxs)(react.Fragment,{children:[Object(jsx_runtime.jsx)(Typography.a,{color:"inherit",children:""}),":",Object(jsx_runtime.jsx)("ul",{children:null==dependentNodeIds?void 0:dependentNodeIds.map((function(id){return Object(jsx_runtime.jsx)("li",{children:"Module Id: "+id},id)}))})]})}),[dependentNodeIds]),propLabel=Object(react.useMemo)((function(){return null!=propDefinition&&propDefinition.label?propDefinition.label:propName}),[propName,null==propDefinition?void 0:propDefinition.label]);return Object(react.useEffect)((function(){console.log("value OR propDefinition?.default change!"),void 0===value&&null!=propDefinition&&propDefinition.default?setValue1(null==propDefinition?void 0:propDefinition.default):setValue1(value)}),[value,null==propDefinition?void 0:propDefinition.default]),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Box.a,{className:"propname-row",children:[Object(jsx_runtime.jsx)("label",{className:"propname-area",children:propLabel}),dependentNodeIds&&Object(jsx_runtime.jsx)(HtmlTooltip,{title:DependentToolTipTitle,children:Object(jsx_runtime.jsx)(HelpOutline_default.a,{className:"propname-question-icon"})})]}),Object(jsx_runtime.jsx)(Box.a,{className:"stringchips-area",children:options.map((function(opt,idx){return Object(jsx_runtime.jsx)(Chip.a,{className:"chip-item",label:opt,size:"small",color:value1&&value1.includes(opt)?"primary":"default",clickable:!readonly,onClick:function onClick(){return handleChipClick(opt)}},opt+"-"+idx)}))})]})};try{StringArrayInput_StringArrayInput.displayName="StringArrayInput",StringArrayInput_StringArrayInput.__docgenInfo={description:"",displayName:"StringArrayInput",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},propName:{defaultValue:null,description:"",name:"propName",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"PropValue | undefined"}},propDefinition:{defaultValue:null,description:"",name:"propDefinition",required:!0,type:{name:'({ type: "string" | "number" | "boolean" | "stringArray" | "array"; } & { label?: string | undefined; description?: string | undefined; default?: string | number | boolean | (string | number | boolean)[] | undefined; maximum?: number | undefined; minimum?: number | undefined; enum?: (string | ... 1 more ... | boolea...'}},dependentNodeIds:{defaultValue:null,description:"",name:"dependentNodeIds",required:!1,type:{name:"number[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newVal: PropValue) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/StringArrayInput.tsx#StringArrayInput"]={docgenInfo:StringArrayInput_StringArrayInput.__docgenInfo,name:"StringArrayInput",path:"src/AppCanvas/RFNodes/StringArrayInput.tsx#StringArrayInput"})}catch(__react_docgen_typescript_loader_error){}var TextField=__webpack_require__("./node_modules/@mui/material/TextField/TextField.js"),Switch=__webpack_require__("./node_modules/@mui/material/Switch/Switch.js");function PropRow_slicedToArray(arr,i){return function PropRow_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PropRow_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PropRow_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PropRow_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PropRow_arrayLikeToArray(o,minLen)}(arr,i)||function PropRow_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PropRow_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var sxInput={bgcolor:"background.default",color:"text.primary"},BasicInputTypes=["string","number","boolean"],PropRow_BasicInput=function BasicInput(_ref){var readonly=_ref.readonly,propName=_ref.propName,value=_ref.value,propDefinition=_ref.propDefinition,onChange=_ref.onChange,inferredType=Object(react.useMemo)((function(){return BasicInputTypes.includes(typeof value)?typeof value:null!=propDefinition&&propDefinition.type&&BasicInputTypes.includes(null==propDefinition?void 0:propDefinition.type)?null==propDefinition?void 0:propDefinition.type:"string"}),[value,null==propDefinition?void 0:propDefinition.type]),_useState2=PropRow_slicedToArray(Object(react.useState)(void 0===value&&null!=propDefinition&&propDefinition.default?null==propDefinition?void 0:propDefinition.default:value),2),value1=_useState2[0],setValue1=_useState2[1],inputTypeStr=Object(react.useMemo)((function(){return"string"===inferredType?"text":"number"}),[inferredType]),handleSwitchChange=Object(react.useCallback)((function(evt,checked){onChange(checked)}),[onChange]),propLabel=Object(react.useMemo)((function(){return null!=propDefinition&&propDefinition.label?propDefinition.label:propName}),[propName,null==propDefinition?void 0:propDefinition.label]);return Object(react.useEffect)((function(){console.log("value OR propDefinition?.default change!"),void 0===value&&null!=propDefinition&&propDefinition.default?setValue1(null==propDefinition?void 0:propDefinition.default):setValue1(value)}),[value,null==propDefinition?void 0:propDefinition.default]),"boolean"===inferredType?Object(jsx_runtime.jsxs)(Box.a,{className:"label-input-wrapper",children:[Object(jsx_runtime.jsxs)(Box.a,{className:"propname-row",children:[Object(jsx_runtime.jsx)("label",{className:"propname-area",children:propLabel}),(null==propDefinition?void 0:propDefinition.description)&&Object(jsx_runtime.jsx)(HtmlTooltip,{title:null==propDefinition?void 0:propDefinition.description,children:Object(jsx_runtime.jsx)(HelpOutline_default.a,{className:"propname-question-icon",sx:{marginLeft:"0.5rem"}})})]}),Object(jsx_runtime.jsx)(Switch.a,{size:"small",disabled:readonly,checked:!0===value1,onChange:handleSwitchChange})]}):Object(jsx_runtime.jsxs)(Box.a,{sx:{display:"flex"},children:[Object(jsx_runtime.jsx)(TextField.a,{sx:sxInput,style:{width:"100%"},size:"small",disabled:readonly,id:propName+"-row",label:propLabel,variant:"standard",type:inputTypeStr,value:value1,onChange:function handleTextFieldChange(event){var valStr=event.target.value;onChange("number"===inputTypeStr?+valStr:valStr)}}),(null==propDefinition?void 0:propDefinition.description)&&Object(jsx_runtime.jsx)(HtmlTooltip,{title:null==propDefinition?void 0:propDefinition.description,children:Object(jsx_runtime.jsx)(HelpOutline_default.a,{className:"propname-question-icon"})})]})};PropRow_BasicInput.displayName="BasicInput";var PropRow_PropRow=function PropRow(_ref2){var readonly=_ref2.readonly,propName=_ref2.propName,value=_ref2.value,propDefinition=_ref2.propDefinition,dependentNodeIds=_ref2.dependentNodeIds,onChange=_ref2.onChange,inputEle=Object(react.useMemo)((function(){return Array.isArray(value)||"stringArray"===(null==propDefinition?void 0:propDefinition.type)?Object(jsx_runtime.jsx)(StringArrayInput_StringArrayInput,{readonly:readonly,propName:propName,value:value,propDefinition:propDefinition,dependentNodeIds:dependentNodeIds,onChange:onChange}):(console.log("propRow - "+propName),console.log(null==propDefinition?void 0:propDefinition.label),Object(jsx_runtime.jsx)(PropRow_BasicInput,{readonly:readonly,propName:propName,value:value,propDefinition:propDefinition,onChange:onChange}))}),[readonly,propName,value,propDefinition,dependentNodeIds,onChange]);return Object(jsx_runtime.jsx)("div",{className:"gddi-aiappcanvas__simplenode-proprow",children:inputEle})};PropRow_PropRow.displayName="PropRow";try{PropRow_BasicInput.displayName="BasicInput",PropRow_BasicInput.__docgenInfo={description:"",displayName:"BasicInput",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},propName:{defaultValue:null,description:"",name:"propName",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"PropValue | undefined"}},propDefinition:{defaultValue:null,description:"",name:"propDefinition",required:!0,type:{name:'({ type: "string" | "number" | "boolean" | "stringArray" | "array"; } & { label?: string | undefined; description?: string | undefined; default?: string | number | boolean | (string | number | boolean)[] | undefined; maximum?: number | undefined; minimum?: number | undefined; enum?: (string | ... 1 more ... | boolea...'}},dependentNodeIds:{defaultValue:null,description:"",name:"dependentNodeIds",required:!1,type:{name:"number[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newVal: PropValue) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/PropRow.tsx#BasicInput"]={docgenInfo:PropRow_BasicInput.__docgenInfo,name:"BasicInput",path:"src/AppCanvas/RFNodes/PropRow.tsx#BasicInput"})}catch(__react_docgen_typescript_loader_error){}try{PropRow_PropRow.displayName="PropRow",PropRow_PropRow.__docgenInfo={description:"",displayName:"PropRow",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},propName:{defaultValue:null,description:"",name:"propName",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"PropValue | undefined"}},propDefinition:{defaultValue:null,description:"",name:"propDefinition",required:!0,type:{name:'({ type: "string" | "number" | "boolean" | "stringArray" | "array"; } & { label?: string | undefined; description?: string | undefined; default?: string | number | boolean | (string | number | boolean)[] | undefined; maximum?: number | undefined; minimum?: number | undefined; enum?: (string | ... 1 more ... | boolea...'}},dependentNodeIds:{defaultValue:null,description:"",name:"dependentNodeIds",required:!1,type:{name:"number[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newVal: PropValue) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/PropRow.tsx#PropRow"]={docgenInfo:PropRow_PropRow.__docgenInfo,name:"PropRow",path:"src/AppCanvas/RFNodes/PropRow.tsx#PropRow"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.object.values.js");function isModelNode(node){if(node.props&&void 0!==node.props.mod_labels){var modLabelsProp=node.props.mod_labels;if(Object.keys(modLabelsProp).length>0)return!0}return!1}function propHooks_slicedToArray(arr,i){return function propHooks_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function propHooks_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function propHooks_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return propHooks_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return propHooks_arrayLikeToArray(o,minLen)}(arr,i)||function propHooks_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function propHooks_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function isBoxFilterNode(nodeData){return nodeData.type.toLocaleLowerCase().includes("boxfilter")}function getBoxFilterDependentNodeIds(bfNodeId,pipeline){var result=[];return pipeline.nodes.forEach((function(node){isModelNode(node)&&function isReachableToBoxFilterNode(srcId){var srcNode=pipeline.nodes.find((function(n){return n.id===srcId}));if(void 0===srcNode)return!1;for(var queue=[srcNode];queue.length>0;){for(var lvLen=queue.length,reachedBFNodeId=[],_loop=function _loop(i){var node=queue.shift();if(isModelNode(node)&&node.id!==srcId)return{v:!1};isBoxFilterNode(node)&&reachedBFNodeId.push(node.id),pipeline.pipe.forEach((function(c){if(c[0]===node.id){var childId=c[2],childNode=pipeline.nodes.find((function(n){return n.id===childId}));void 0!==childNode&&queue.push(childNode)}}))},i=0;i<lvLen;i+=1){var _ret=_loop();if("object"==typeof _ret)return _ret.v}if(reachedBFNodeId.includes(bfNodeId))return!0;if(reachedBFNodeId.length>0)return!1}return!1}(node.id)&&result.push(node.id)})),result}function useBoxFilterLabelOptions(boxFilterNode,pipeline){var _useState2=propHooks_slicedToArray(Object(react.useState)([]),2),labelOptions=_useState2[0],setLabelOptions=_useState2[1],_useState4=propHooks_slicedToArray(Object(react.useState)([]),2),dependencies=_useState4[0],setDepen=_useState4[1],isBoxFilter=Object(react.useMemo)((function(){return isBoxFilterNode(boxFilterNode)}),[boxFilterNode]);return Object(react.useEffect)((function(){if(isBoxFilter){var depenNodeIds=getBoxFilterDependentNodeIds(boxFilterNode.id,pipeline),checkedLabels=function collectCheckedLabels(nodeIds,pipeline){var labelSet=new Set;return nodeIds.forEach((function(id){var node=pipeline.nodes.find((function(n){return n.id===id}));if(void 0!==node&&node.props&&node.props.mod_labels){var modLabels=node.props.mod_labels;Object.values(modLabels).forEach((function(val){val.checked&&val.label&&labelSet.add(val.label)}))}})),Array.from(labelSet)}(depenNodeIds,pipeline);setDepen(depenNodeIds),setLabelOptions(checkedLabels)}}),[boxFilterNode.id,isBoxFilter,pipeline]),[labelOptions,dependencies]}function NodeDetail_slicedToArray(arr,i){return function NodeDetail_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function NodeDetail_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||NodeDetail_unsupportedIterableToArray(arr,i)||function NodeDetail_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NodeDetail_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return NodeDetail_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NodeDetail_arrayLikeToArray(o,minLen):void 0}}function NodeDetail_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NodeDetail_NodeDetail=function NodeDetail(_ref){var readonly=_ref.readonly,nodeData=_ref.nodeData,hidePropsWithName=_ref.hidePropsWithName,onPropChange=_ref.onPropChange,_useStore=useStore((function(state){return{putNodeFront:state.putNodeFront,propDefinition:state.moduleDefinitions[nodeData.type]?state.moduleDefinitions[nodeData.type].props:void 0,pipeline:state.value}}),shallow_default.a),propDefinition=_useStore.propDefinition,pipeline=_useStore.pipeline,putNodeFront=_useStore.putNodeFront,_useBoxFilterLabelOpt2=NodeDetail_slicedToArray(useBoxFilterLabelOptions(nodeData,pipeline),2),boxLabelsEnums=_useBoxFilterLabelOpt2[0],dependentNodeIds=_useBoxFilterLabelOpt2[1],_useBoxFilterBestThre=function useBoxFilterBestThreshold(dependentNodeIds,pipeline){var _useState6=propHooks_slicedToArray(Object(react.useState)(.75),2),bt=_useState6[0],setBT=_useState6[1],_useState8=propHooks_slicedToArray(Object(react.useState)(null),2),btNodeId=_useState8[0],setBTNodeId=_useState8[1];return Object(react.useEffect)((function(){var minBT=1,btid=null;pipeline.nodes.forEach((function(node){if(dependentNodeIds.indexOf(node.id)>=0){var nodeBF=node.props&&node.props.best_threshold&&"number"==typeof node.props.best_threshold?node.props.best_threshold:1;nodeBF<minBT&&(btid=node.id),minBT=Math.min(minBT,nodeBF)}})),setBTNodeId(btid),setBT(minBT)}),[pipeline,dependentNodeIds]),[bt,btNodeId]}(dependentNodeIds,pipeline),_useBoxFilterBestThre2=NodeDetail_slicedToArray(_useBoxFilterBestThre,2),boxFilterBestThreshold=_useBoxFilterBestThre2[0],boxFilterBTId=_useBoxFilterBestThre2[1],boxFilterBTNodeName=Object(react.useMemo)((function(){var node=pipeline.nodes.find((function(n){return n.id===boxFilterBTId}));return node?node.name:void 0}),[boxFilterBTId,pipeline.nodes]),isBoxFilter=Object(react.useMemo)((function(){return isBoxFilterNode(nodeData)}),[nodeData]),generatePropDefinition=Object(react.useCallback)((function(propName,propVal){if("box_labels"===propName){var propDef={type:"stringArray",enum:boxLabelsEnums,default:boxLabelsEnums};if(propVal){var _step,isValueValid=!0,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=NodeDetail_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(propVal);try{for(_iterator.s();!(_step=_iterator.n()).done;){var label=_step.value;if(!boxLabelsEnums.includes(label)){isValueValid=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}isValueValid||(propVal=void 0)}return propDef}if("box_prob"===propName)return{type:"number",default:boxFilterBestThreshold,description:""+boxFilterBTNodeName+"id: "+boxFilterBTId+""}}),[boxLabelsEnums,boxFilterBestThreshold,boxFilterBTNodeName,boxFilterBTId]),rowList=Object(react.useMemo)((function(){if(nodeData.props){var propList=nodeData.props,propNameSet=new Set(Object.keys(propList));return propDefinition&&Object.keys(propDefinition).forEach((function(pn){propNameSet.add(pn)})),Array.from(propNameSet).sort().filter((function(pn){return!(hidePropsWithName&&hidePropsWithName.includes(pn))})).filter((function(pn){return!(propDefinition&&propDefinition[pn]&&"invisible"===propDefinition[pn].visibility_and_readonly)})).map((function(propName){var _propDef2,propVal=propList[propName],propDef=void 0===propDefinition?void 0:propDefinition[propName];if(isBoxFilter){var propDefExt=generatePropDefinition(propName,propVal);void 0!==propDefExt&&void 0!==propDef&&(propDef=Object.assign({},propDef,propDefExt))}return Object(jsx_runtime.jsx)(PropRow_PropRow,{readonly:!0===readonly||"visible_readonly"===(null===(_propDef2=propDef)||void 0===_propDef2?void 0:_propDef2.visibility_and_readonly),propName:propName,propDefinition:propDef,value:propVal,dependentNodeIds:dependentNodeIds,onChange:function handlePropChange(val){onPropChange(propName,val)}},"PropRow-"+nodeData.id+"-"+propName)}))}return[]}),[readonly,nodeData.props,nodeData.id,onPropChange,propDefinition,isBoxFilter,dependentNodeIds,hidePropsWithName,generatePropDefinition]),handleCollapseOpen=Object(react.useCallback)((function(){putNodeFront(nodeData.id)}),[nodeData.id]);return Object(jsx_runtime.jsx)(CollapseContainer_CollapseContainer,{title:"",onOpen:handleCollapseOpen,children:rowList})};NodeDetail_NodeDetail.displayName="NodeDetail";try{NodeDetail_NodeDetail.displayName="NodeDetail",NodeDetail_NodeDetail.__docgenInfo={description:"",displayName:"NodeDetail",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},nodeData:{defaultValue:null,description:"",name:"nodeData",required:!0,type:{name:"Module"}},hidePropsWithName:{defaultValue:null,description:"",name:"hidePropsWithName",required:!1,type:{name:"string[]"}},onPropChange:{defaultValue:null,description:"",name:"onPropChange",required:!0,type:{name:"(propName: string, propVal: PropValue) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/NodeDetail.tsx#NodeDetail"]={docgenInfo:NodeDetail_NodeDetail.__docgenInfo,name:"NodeDetail",path:"src/AppCanvas/RFNodes/NodeDetail.tsx#NodeDetail"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js");var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),QueryModelContext=Object(react.createContext)({queryModelType:void 0}),ListItemAvatar=__webpack_require__("./node_modules/@mui/material/ListItemAvatar/ListItemAvatar.js"),ListItemText=__webpack_require__("./node_modules/@mui/material/ListItemText/ListItemText.js"),Avatar=__webpack_require__("./node_modules/@mui/material/Avatar/Avatar.js"),Folder=__webpack_require__("./node_modules/@mui/icons-material/Folder.js"),Folder_default=__webpack_require__.n(Folder),BrowserNotSupported=__webpack_require__("./node_modules/@mui/icons-material/BrowserNotSupported.js"),BrowserNotSupported_default=__webpack_require__.n(BrowserNotSupported),ModelListItemContent_ModelListItemContent=function ModelListItemContent(_ref){var modelInfo=_ref.modelInfo,primaryText=Object(react.useMemo)((function(){return modelInfo&&modelInfo.mod_name&&modelInfo.mod_version?modelInfo.mod_name+" - v"+modelInfo.mod_version:""}),[modelInfo]),secondaryElem=Object(react.useMemo)((function(){if(void 0!==modelInfo&&void 0!==modelInfo.mod_name&&void 0!==modelInfo.mod_version){var modelCreatedStr=modelInfo.mod_created_at.toLocaleDateString()+" "+modelInfo.mod_created_at.getHours()+":"+modelInfo.mod_created_at.getMinutes()+":"+modelInfo.mod_created_at.getSeconds(),accIdentifier=modelInfo.accelerate?modelInfo.accelerate:"undefined accelerator",chipColor="#1c4cad";return accIdentifier.toLocaleLowerCase().includes("npu")&&(chipColor="#9c1cad"),accIdentifier.toLocaleLowerCase().includes("gpu")&&(chipColor="#1cad7a"),Object(jsx_runtime.jsxs)(Box.a,{component:"span",sx:{display:"flex",alignItems:"flexEnd"},children:[Object(jsx_runtime.jsx)(Box.a,{component:"span",children:modelCreatedStr}),Object(jsx_runtime.jsx)(Chip.a,{component:"span",sx:{marginLeft:"0.8rem",fontSize:"0.65rem",height:"20px",color:chipColor,borderColor:chipColor},label:accIdentifier,size:"small",variant:"outlined"})]})}}),[modelInfo]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(ListItemAvatar.a,{children:Object(jsx_runtime.jsx)(Avatar.a,{children:modelInfo?Object(jsx_runtime.jsx)(Folder_default.a,{}):Object(jsx_runtime.jsx)(BrowserNotSupported_default.a,{})})}),Object(jsx_runtime.jsx)(ListItemText.a,{primary:primaryText,secondary:secondaryElem})]})};try{ModelListItemContent_ModelListItemContent.displayName="ModelListItemContent",ModelListItemContent_ModelListItemContent.__docgenInfo={description:"",displayName:"ModelListItemContent",props:{modelInfo:{defaultValue:null,description:"",name:"modelInfo",required:!1,type:{name:"ModelRes"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ModelListItemContent.tsx#ModelListItemContent"]={docgenInfo:ModelListItemContent_ModelListItemContent.__docgenInfo,name:"ModelListItemContent",path:"src/AppCanvas/RFNodes/ModelListItemContent.tsx#ModelListItemContent"})}catch(__react_docgen_typescript_loader_error){}var RFNodes_ModelSelectSearch=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/ModelSelectSearch.scss"),ModelSelectSearch_options={insert:"head",singleton:!1},List=(injectStylesIntoStyleTag_default()(RFNodes_ModelSelectSearch.a,ModelSelectSearch_options),RFNodes_ModelSelectSearch.a.locals,__webpack_require__("./node_modules/@mui/material/List/List.js")),ListItemButton=__webpack_require__("./node_modules/@mui/material/ListItemButton/ListItemButton.js"),Pagination=__webpack_require__("./node_modules/@mui/material/Pagination/Pagination.js"),LinearProgress=__webpack_require__("./node_modules/@mui/material/LinearProgress/LinearProgress.js");function ModelSelectSearch_slicedToArray(arr,i){return function ModelSelectSearch_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ModelSelectSearch_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ModelSelectSearch_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ModelSelectSearch_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ModelSelectSearch_arrayLikeToArray(o,minLen)}(arr,i)||function ModelSelectSearch_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ModelSelectSearch_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ModelSelectSearch_ModelSelectSearch=function ModelSelectSearch(_ref){var page=_ref.page,selected=_ref.selected,onSelect=_ref.onSelect,onPageChange=_ref.onPageChange,queryModelType=Object(react.useContext)(QueryModelContext).queryModelType,_useStore=useStore((function(state){return{fetchLoading:state.fetchLoading,fetchModelRes:state.fetchModelRes,searchModelRes:state.searchModelRes,fetchModelsWithLabels:state.fetchModelsWithLabels,setFetchLoading:state.setFetchLoading}}),shallow_default.a),fetchLoading=_useStore.fetchLoading,fetchModelRes=_useStore.fetchModelRes,searchModelRes=_useStore.searchModelRes,fetchModelsWithLabels=_useStore.fetchModelsWithLabels,setFetchLoading=_useStore.setFetchLoading,_useState2=ModelSelectSearch_slicedToArray(Object(react.useState)(1),2),searchPageNum=_useState2[0],setSearchPageNum=_useState2[1],_useState4=ModelSelectSearch_slicedToArray(Object(react.useState)(!1),2),showSearchResult=_useState4[0],setShowSearchResult=_useState4[1],handlePageChange=Object(react.useCallback)((function(evt,pageNum){onPageChange(pageNum),setFetchLoading(!0),fetchModelsWithLabels(pageNum,void 0,queryModelType)}),[fetchModelsWithLabels,setFetchLoading,onPageChange,queryModelType]),debouncedHandlePageChange=Object(react.useMemo)((function(){return Object(lodash.debounce)(handlePageChange,300)}),[handlePageChange]),handleReqSearch=Object(react.useCallback)((function(searchVal){setShowSearchResult(!0),setSearchPageNum(1),setFetchLoading(!0),fetchModelsWithLabels(1,searchVal,queryModelType)}),[setShowSearchResult,fetchModelsWithLabels,setFetchLoading,queryModelType]),dispModels=Object(react.useMemo)((function(){return showSearchResult?searchModelRes:fetchModelRes}),[showSearchResult,fetchModelRes,searchModelRes]),LoadingElem=Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)(Box.a,{sx:{width:"100%",flex:1},children:Object(jsx_runtime.jsx)(LinearProgress.a,{sx:{top:"50%"}})})}),[]),ModelListElem=Object(react.useMemo)((function(){return Object(jsx_runtime.jsxs)(Box.a,{className:"list-with-page",children:[Object(jsx_runtime.jsx)(Box.a,{className:"list-area",children:Object(jsx_runtime.jsx)(List.a,{dense:!0,children:dispModels.models.map((function(modInfo){return Object(jsx_runtime.jsx)(ListItemButton.a,{selected:selected&&selected.mod_iter_id===modInfo.mod_iter_id,onClick:function handleClick(){onSelect(modInfo)},children:Object(jsx_runtime.jsx)(ModelListItemContent_ModelListItemContent,{modelInfo:modInfo})},modInfo.mod_iter_id+"}")}))})}),Object(jsx_runtime.jsxs)(Box.a,{className:"pagination-area",children:[Object(jsx_runtime.jsx)(Pagination.a,{page:showSearchResult?searchPageNum:page,count:Math.ceil(dispModels.totalCnt/pageSize),size:"small",onChange:debouncedHandlePageChange}),Object(jsx_runtime.jsx)(Box.a,{children:"total: "+dispModels.totalCnt})]})]})}),[selected,dispModels,showSearchResult,page,debouncedHandlePageChange,onSelect,searchPageNum]);return Object(jsx_runtime.jsxs)(Box.a,{className:"model-selectsearch-wrapper",children:[Object(jsx_runtime.jsx)(Box.a,{className:"searchbar-wrapper",children:Object(jsx_runtime.jsx)(SearchBar_SearchBar,{disabled:fetchLoading,onRequestSearch:handleReqSearch,onCancelSearch:function handleCancelSearch(){setFetchLoading(!1),setShowSearchResult(!1)}})}),fetchLoading?LoadingElem:ModelListElem]})};ModelSelectSearch_ModelSelectSearch.displayName="ModelSelectSearch";try{ModelSelectSearch_ModelSelectSearch.displayName="ModelSelectSearch",ModelSelectSearch_ModelSelectSearch.__docgenInfo={description:"",displayName:"ModelSelectSearch",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"ModelRes | undefined"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(val: ModelRes) => void"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!0,type:{name:"(newPage: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ModelSelectSearch.tsx#ModelSelectSearch"]={docgenInfo:ModelSelectSearch_ModelSelectSearch.__docgenInfo,name:"ModelSelectSearch",path:"src/AppCanvas/RFNodes/ModelSelectSearch.tsx#ModelSelectSearch"})}catch(__react_docgen_typescript_loader_error){}var ListItem=__webpack_require__("./node_modules/@mui/material/ListItem/ListItem.js"),DialogActions=__webpack_require__("./node_modules/@mui/material/DialogActions/DialogActions.js"),Edit=__webpack_require__("./node_modules/@mui/icons-material/Edit.js"),Edit_default=__webpack_require__.n(Edit);function ModelDisplay_slicedToArray(arr,i){return function ModelDisplay_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ModelDisplay_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ModelDisplay_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ModelDisplay_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ModelDisplay_arrayLikeToArray(o,minLen)}(arr,i)||function ModelDisplay_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ModelDisplay_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BootstrapDialog=Object(styled.a)(Dialog.a)((function(_ref){var theme=_ref.theme;return{"& .MuiDialogContent-root":{padding:theme.spacing(2)},"& .MuiDialogActions-root":{padding:theme.spacing(1)}}})),ModelDisplay_ModelDisplay=function ModelDisplay(_ref2){var model=_ref2.model,onModelChange=_ref2.onModelChange,_useStore=useStore((function(state){return{propEditingDisabled:state.propEditingDisabled,modelListFetcher:state.modelListFetcher}}),shallow_default.a),propEditingDisabled=_useStore.propEditingDisabled,modelListFetcher=_useStore.modelListFetcher,_useState2=ModelDisplay_slicedToArray(Object(react.useState)(!1),2),openD=_useState2[0],setOpenD=_useState2[1],_useState4=ModelDisplay_slicedToArray(Object(react.useState)(model),2),selectedModel=_useState4[0],setSelectedModel=_useState4[1],_useState6=ModelDisplay_slicedToArray(Object(react.useState)(1),2),page=_useState6[0],setPage=_useState6[1],handleClickEdit=Object(react.useCallback)((function(){setOpenD(!0)}),[setOpenD]),handleCloseD=Object(react.useCallback)((function(){setOpenD(!1)}),[]),handleConfirmSelect=Object(react.useCallback)((function(){setOpenD(!1),onModelChange&&onModelChange(selectedModel)}),[selectedModel,onModelChange]),handleSelectChange=Object(react.useCallback)((function(val){setSelectedModel(val)}),[]),handlePageChange=Object(react.useCallback)((function(newPage){setPage(newPage)}),[setPage]),disableEdit=Object(react.useMemo)((function(){return propEditingDisabled||void 0===modelListFetcher}),[propEditingDisabled,modelListFetcher]);return Object(react.useEffect)((function(){setSelectedModel(model)}),[model]),Object(jsx_runtime.jsxs)(Box.a,{children:[Object(jsx_runtime.jsx)(ListItem.a,{secondaryAction:disableEdit?null:Object(jsx_runtime.jsx)(IconButton.a,{edge:"end","aria-label":"edit",onClick:handleClickEdit,children:Object(jsx_runtime.jsx)(Edit_default.a,{})}),children:Object(jsx_runtime.jsx)(ModelListItemContent_ModelListItemContent,{modelInfo:model})}),Object(jsx_runtime.jsxs)(BootstrapDialog,{onClose:handleCloseD,"aria-labelledby":"customized-dialog-title",open:openD,children:[Object(jsx_runtime.jsx)(DialogContent.a,{dividers:!0,sx:{overflowY:"hidden",width:"600px",height:"90vh"},children:Object(jsx_runtime.jsx)(ModelSelectSearch_ModelSelectSearch,{page:page,selected:selectedModel,onSelect:handleSelectChange,onPageChange:handlePageChange})}),Object(jsx_runtime.jsxs)(DialogActions.a,{children:[Object(jsx_runtime.jsx)(Button.a,{onClick:handleConfirmSelect,children:""}),Object(jsx_runtime.jsx)(Button.a,{color:"secondary",onClick:handleCloseD,children:""})]})]})]})};ModelDisplay_ModelDisplay.displayName="ModelDisplay";try{ModelDisplay_ModelDisplay.displayName="ModelDisplay",ModelDisplay_ModelDisplay.__docgenInfo={description:"",displayName:"ModelDisplay",props:{model:{defaultValue:null,description:"",name:"model",required:!0,type:{name:"ModelValueType"}},onModelChange:{defaultValue:null,description:"",name:"onModelChange",required:!1,type:{name:"((newModel: ModelValueType) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ModelDisplay.tsx#ModelDisplay"]={docgenInfo:ModelDisplay_ModelDisplay.__docgenInfo,name:"ModelDisplay",path:"src/AppCanvas/RFNodes/ModelDisplay.tsx#ModelDisplay"})}catch(__react_docgen_typescript_loader_error){}var RFNodes_FilterLabelsDisplay=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/FilterLabelsDisplay.scss"),FilterLabelsDisplay_options={insert:"head",singleton:!1},colorManipulator=(injectStylesIntoStyleTag_default()(RFNodes_FilterLabelsDisplay.a,FilterLabelsDisplay_options),RFNodes_FilterLabelsDisplay.a.locals,__webpack_require__("./node_modules/@mui/system/esm/colorManipulator.js")),Table=__webpack_require__("./node_modules/@mui/material/Table/Table.js"),TableBody=__webpack_require__("./node_modules/@mui/material/TableBody/TableBody.js"),TableCell=__webpack_require__("./node_modules/@mui/material/TableCell/TableCell.js"),TableContainer=__webpack_require__("./node_modules/@mui/material/TableContainer/TableContainer.js"),TableHead=__webpack_require__("./node_modules/@mui/material/TableHead/TableHead.js"),TableRow=__webpack_require__("./node_modules/@mui/material/TableRow/TableRow.js"),Checkbox=__webpack_require__("./node_modules/@mui/material/Checkbox/Checkbox.js"),ShuffleOnTwoTone=__webpack_require__("./node_modules/@mui/icons-material/ShuffleOnTwoTone.js"),ShuffleOnTwoTone_default=__webpack_require__.n(ShuffleOnTwoTone),headCells=[{id:"labelKey",numeric:!1,disablePadding:!0,label:"Label"},{id:"label",numeric:!1,disablePadding:!1,label:"Map Label"},{id:"color",numeric:!1,disablePadding:!1,label:"Display Color"}];function EnhancedTableHead(props){var onSelectAllClick=props.onSelectAllClick,numSelected=props.numSelected,rowCount=props.rowCount,checkDisabled=props.checkDisabled;return Object(jsx_runtime.jsx)(TableHead.a,{children:Object(jsx_runtime.jsxs)(TableRow.a,{children:[Object(jsx_runtime.jsx)(TableCell.a,{padding:"checkbox",children:Object(jsx_runtime.jsx)(Checkbox.a,{color:"primary",indeterminate:numSelected>0&&numSelected<rowCount,checked:rowCount>0&&numSelected===rowCount,onChange:onSelectAllClick,disabled:checkDisabled,inputProps:{"aria-label":"select all labels"}})}),headCells.map((function(headCell){return Object(jsx_runtime.jsx)(TableCell.a,{align:headCell.numeric?"right":"left",padding:headCell.disablePadding?"none":"normal",children:headCell.label},headCell.id)}))]})})}EnhancedTableHead.displayName="EnhancedTableHead";var FilterLabelsDisplay_EnhancedTableToolbar=function EnhancedTableToolbar(props){var numSelected=props.numSelected,deleteDisabled=props.deleteDisabled,onDelete=props.onDelete,handleDelete=Object(react.useCallback)((function(){onDelete&&onDelete()}),[onDelete]);return Object(jsx_runtime.jsxs)(Toolbar.a,{sx:Object.assign({pl:{sm:2},pr:{xs:1,sm:1}},numSelected>0&&{bgcolor:function bgcolor(theme){return Object(colorManipulator.a)(theme.palette.primary.main,theme.palette.action.activatedOpacity)}}),children:[Object(jsx_runtime.jsxs)(Typography.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[numSelected," selected"]}),numSelected>0&&!deleteDisabled?Object(jsx_runtime.jsx)(Tooltip.a,{title:"Delete",children:Object(jsx_runtime.jsx)(IconButton.a,{onClick:handleDelete,children:Object(jsx_runtime.jsx)(Delete_default.a,{})})}):null]})};FilterLabelsDisplay_EnhancedTableToolbar.displayName="EnhancedTableToolbar";var FilterLabelsDisplay_FilterLabelsDisplay=function FilterLabelsDisplay(_ref){var labels=_ref.labels,onLabelsChange=_ref.onLabelsChange,propEditingDisabled=useStore((function(state){return{propEditingDisabled:state.propEditingDisabled}}),shallow_default.a).propEditingDisabled,isSelected=Object(react.useCallback)((function(labelKey){return labels[labelKey].checked}),[labels]),numSelected=Object(react.useMemo)((function(){return Object.values(labels).filter((function(label){return label.checked})).length}),[labels]),rows=Object(react.useMemo)((function(){return Object.keys(labels).map((function(labelKey){return Object.assign({labelKey:labelKey},labels[labelKey])}))}),[labels]);return Object(jsx_runtime.jsx)(Box.a,{sx:{width:"100%"},children:Object(jsx_runtime.jsxs)(Paper.a,{sx:{width:"100%",mb:2},children:[Object(jsx_runtime.jsx)(FilterLabelsDisplay_EnhancedTableToolbar,{numSelected:numSelected,deleteDisabled:propEditingDisabled,onDelete:function handleDeleteAllClick(){var newLabels=Object(immer_esm.a)(labels,(function(draft){Object.values(draft).forEach((function(label){label.checked=!1}))}));onLabelsChange&&onLabelsChange(newLabels)}}),Object(jsx_runtime.jsx)(TableContainer.a,{sx:{overflow:"unset"},children:Object(jsx_runtime.jsxs)(Table.a,{sx:{minWidth:460},stickyHeader:!0,"aria-labelledby":"tableTitle",size:"small",children:[Object(jsx_runtime.jsx)(EnhancedTableHead,{numSelected:numSelected,onSelectAllClick:function handleSelectAllClick(event){var newLabels=Object(immer_esm.a)(labels,(function(draft){Object.values(draft).forEach((function(label){label.checked=event.target.checked}))}));onLabelsChange&&onLabelsChange(newLabels)},rowCount:rows.length,checkDisabled:propEditingDisabled}),Object(jsx_runtime.jsx)(TableBody.a,{children:rows.map((function(row,index){var isItemSelected=isSelected(row.labelKey),labelId="enhanced-table-checkbox-"+index,rgbColor={r:row.color[0],g:row.color[1],b:row.color[2]},hexColor=function rgbToHex(r,g,b){return"#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)}(rgbColor.r,rgbColor.g,rgbColor.b),randomColorHex=stringToHex(row.label);return Object(jsx_runtime.jsxs)(TableRow.a,{hover:!0,role:"checkbox","aria-checked":isItemSelected,tabIndex:-1,selected:isItemSelected,children:[Object(jsx_runtime.jsx)(TableCell.a,{padding:"checkbox",children:Object(jsx_runtime.jsx)(Checkbox.a,{color:"primary",checked:isItemSelected,inputProps:{"aria-labelledby":labelId},disabled:propEditingDisabled,onClick:function onClick(event){return function handleCheckboxClick(event,labelKey){var checked0=labels[labelKey].checked,newLabels=Object(immer_esm.a)(labels,(function(draft){draft[labelKey]=Object.assign({},labels[labelKey],{checked:!checked0})}));onLabelsChange&&onLabelsChange(newLabels)}(0,row.labelKey)}})}),Object(jsx_runtime.jsx)(TableCell.a,{component:"th",id:labelId+"-labelKey",scope:"row",padding:"none",sx:{maxWidth:"110px",overflowWrap:"anywhere"},children:row.labelKey}),Object(jsx_runtime.jsx)(TableCell.a,{id:labelId+"-mapLabel",align:"left",sx:{maxWidth:"280px",overflowWrap:"anywhere"},children:Object(jsx_runtime.jsx)(EditableText_EditableText,{disabled:propEditingDisabled,className:"filterlabels-tr-maplabels",value:row.label,onChange:function handleMapLabelChange(newStr){var newLabels=Object(immer_esm.a)(labels,(function(draft){draft[row.labelKey]=Object.assign({},labels[row.labelKey],{label:newStr})}));onLabelsChange&&onLabelsChange(newLabels)}})}),Object(jsx_runtime.jsx)(TableCell.a,{id:labelId+"-color",align:"left",children:Object(jsx_runtime.jsxs)(Box.a,{className:"tablecell-color",children:[Object(jsx_runtime.jsx)(PopoverColorPicker_PopoverColorPicker,{disabled:propEditingDisabled,color:rgbColor,onChange:function handleColorChange(newColor){var newLabels=Object(immer_esm.a)(labels,(function(draft){draft[row.labelKey]=Object.assign({},labels[row.labelKey],{color:[newColor.r,newColor.g,newColor.b]})}));onLabelsChange&&onLabelsChange(newLabels)}}),Object(jsx_runtime.jsx)(index_module.a,{className:"hex-color-input",disabled:propEditingDisabled,color:hexColor,onChange:function handleHexChange(newHex){var newColor=hexToRgb(newHex);if(onLabelsChange&&null!==newColor){var _newLabels=Object(immer_esm.a)(labels,(function(draft){draft[row.labelKey]=Object.assign({},labels[row.labelKey],{color:[newColor.r,newColor.g,newColor.b]})}));onLabelsChange(_newLabels)}}}),Object(jsx_runtime.jsx)(IconButton.a,{"aria-label":"default-color",size:"small",disabled:propEditingDisabled,onClick:function handleSetDefaultColor(){var newColor=hexToRgb(randomColorHex);if(onLabelsChange&&null!==newColor){var _newLabels2=Object(immer_esm.a)(labels,(function(draft){draft[row.labelKey]=Object.assign({},labels[row.labelKey],{color:[newColor.r,newColor.g,newColor.b]})}));onLabelsChange(_newLabels2)}},sx:{padding:"0px",marginLeft:"0.4rem"},children:Object(jsx_runtime.jsx)(ShuffleOnTwoTone_default.a,{color:"primary",fontSize:"inherit"})})]})})]},row.labelKey)}))})]})})]})})};FilterLabelsDisplay_FilterLabelsDisplay.displayName="FilterLabelsDisplay";try{FilterLabelsDisplay_FilterLabelsDisplay.displayName="FilterLabelsDisplay",FilterLabelsDisplay_FilterLabelsDisplay.__docgenInfo={description:"",displayName:"FilterLabelsDisplay",props:{labels:{defaultValue:null,description:"",name:"labels",required:!0,type:{name:"ModLabelsValueType"}},onLabelsChange:{defaultValue:null,description:"",name:"onLabelsChange",required:!1,type:{name:"((newLabels: ModLabelsValueType) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/FilterLabelsDisplay.tsx#FilterLabelsDisplay"]={docgenInfo:FilterLabelsDisplay_FilterLabelsDisplay.__docgenInfo,name:"FilterLabelsDisplay",path:"src/AppCanvas/RFNodes/FilterLabelsDisplay.tsx#FilterLabelsDisplay"})}catch(__react_docgen_typescript_loader_error){}var RFNodes_ModelConfigTool=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/ModelConfigTool.scss"),ModelConfigTool_options={insert:"head",singleton:!1},Stack=(injectStylesIntoStyleTag_default()(RFNodes_ModelConfigTool.a,ModelConfigTool_options),RFNodes_ModelConfigTool.a.locals,__webpack_require__("./node_modules/@mui/material/Stack/Stack.js"));var ModelConfigTool_ModelConfigTool=function ModelConfigTool(_ref){var modelValue=_ref.modelValue,filterLabelsValue=_ref.filterLabelsValue,onChange=_ref.onChange,queryModelType=Object(react.useContext)(QueryModelContext).queryModelType,_useStore=useStore((function(state){return{fetchModelsWithLabels:state.fetchModelsWithLabels,setFetchLoading:state.setFetchLoading,modelListFetcher:state.modelListFetcher}}),shallow_default.a),fetchModelsWithLabels=_useStore.fetchModelsWithLabels,setFetchLoading=_useStore.setFetchLoading,modelListFetcher=_useStore.modelListFetcher,handleModelChange=Object(react.useCallback)((function(newModel){var newLabelList=[];newModel&&(newLabelList=newModel.labels);var newLabels=function initLabelsObject(labels){var labelObj={};return labels.forEach((function(labelKey){var randomColor=hexToRgb(stringToHex(labelKey))||{r:255,g:255,b:0};labelObj[labelKey]={label:labelKey,checked:!0,color:[randomColor.r,randomColor.g,randomColor.b]}})),labelObj}(newLabelList);onChange&&onChange(newModel,newLabels)}),[onChange]),handleLabelsChange=Object(react.useCallback)((function(newLabels){onChange&&onChange(modelValue,newLabels)}),[modelValue,onChange]);return Object(react.useEffect)((function(){console.log("config toolllllll"),console.log("bbbb -  modelListFetcher changes"),console.log(queryModelType),setFetchLoading(!0),fetchModelsWithLabels(1,void 0,queryModelType)}),[fetchModelsWithLabels,modelListFetcher,setFetchLoading,queryModelType]),Object(jsx_runtime.jsxs)(Box.a,{className:"config-content",children:[Object(jsx_runtime.jsxs)(Box.a,{sx:{width:"100%"},children:[Object(jsx_runtime.jsx)(Typography.a,{variant:"h6",gutterBottom:!0,component:"div",children:""+queryModelType+""}),Object(jsx_runtime.jsx)(ModelDisplay_ModelDisplay,{model:modelValue,onModelChange:handleModelChange})]}),Object(jsx_runtime.jsxs)(Box.a,{children:[Object(jsx_runtime.jsx)(Typography.a,{variant:"h6",gutterBottom:!0,component:"div",sx:{marginTop:"1rem"},children:""}),Object(jsx_runtime.jsx)(Stack.a,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:2},children:Object(jsx_runtime.jsx)(FilterLabelsDisplay_FilterLabelsDisplay,{labels:filterLabelsValue,onLabelsChange:handleLabelsChange})})]})]})};ModelConfigTool_ModelConfigTool.displayName="ModelConfigTool";try{ModelConfigTool_ModelConfigTool.displayName="ModelConfigTool",ModelConfigTool_ModelConfigTool.__docgenInfo={description:"",displayName:"ModelConfigTool",props:{modelValue:{defaultValue:null,description:"",name:"modelValue",required:!0,type:{name:"ModelValueType"}},filterLabelsValue:{defaultValue:null,description:"",name:"filterLabelsValue",required:!0,type:{name:"ModLabelsValueType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newModel: ModelValueType, newLabels: ModLabelsValueType) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ModelConfigTool.tsx#ModelConfigTool"]={docgenInfo:ModelConfigTool_ModelConfigTool.__docgenInfo,name:"ModelConfigTool",path:"src/AppCanvas/RFNodes/ModelConfigTool.tsx#ModelConfigTool"})}catch(__react_docgen_typescript_loader_error){}function ModelConfigDialog_slicedToArray(arr,i){return function ModelConfigDialog_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ModelConfigDialog_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ModelConfigDialog_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ModelConfigDialog_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ModelConfigDialog_arrayLikeToArray(o,minLen)}(arr,i)||function ModelConfigDialog_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ModelConfigDialog_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ModelConfigDialog_Transition=react_default.a.forwardRef((function Transition(props,ref){return Object(jsx_runtime.jsx)(Slide.a,Object.assign({direction:"up",ref:ref},props))})),ModelConfigDialog_ModelConfigDialog=function ModelConfigDialog(_ref){var readonly=_ref.readonly,open=_ref.open,title=_ref.title,okTitle=_ref.okTitle,defaultValue=_ref.defaultValue,onClose=_ref.onClose,onOK=_ref.onOK,_useState2=ModelConfigDialog_slicedToArray(Object(react.useState)(defaultValue),2),value=_useState2[0],setValue=_useState2[1],handleClose=Object(react.useCallback)((function(){setValue(Object.assign({},defaultValue)),onClose()}),[defaultValue]),handleOk=Object(react.useCallback)((function(){onOK(value)}),[value]),handleValueChange=Object(react.useCallback)((function(newModel,newLabels){var newModelConvert=newModel?Object.assign({},newModel,{mod_created_at:newModel.mod_created_at.toISOString()}):void 0;setValue((function(old){return Object.assign({},old,newModelConvert,{mod_labels:Object.assign({},newLabels)})}))}),[setValue]),modelVal=Object(react.useMemo)((function(){return value.mod_iter_id?{mod_id:value.mod_id?value.mod_id.toString():"undefined",mod_iter_id:value.mod_iter_id.toString(),mod_license:value.mod_license?value.mod_license:"undefined",mod_name:value.mod_name?value.mod_name:"undefined",mod_created_at:value.mod_created_at?new Date(value.mod_created_at):new Date,mod_version:value.mod_version,mod_version_id:value.mod_version_id,mod_result_id:value.mod_result_id,accelerate:value.accelerate,labels:void 0===value.labels?[]:value.labels,best_threshold:void 0===value.best_threshold?0:value.best_threshold}:void 0}),[value]),labelsVal=Object(react.useMemo)((function(){if(!value.mod_labels)return{};var res={};return Object.keys(value.mod_labels).forEach((function(key){var val=value.mod_labels[key];"boolean"==typeof val.checked&&"string"==typeof val.label&&"object"==typeof val.color&&3===val.color.length&&(res[key]={checked:val.checked,label:val.label,color:val.color})})),res}),[value]);return Object(react.useEffect)((function(){setValue(Object.assign({},defaultValue))}),[defaultValue]),Object(jsx_runtime.jsxs)(Dialog.a,{fullScreen:!0,open:open,onClose:handleClose,TransitionComponent:ModelConfigDialog_Transition,children:[Object(jsx_runtime.jsx)(AppBar.a,{sx:{position:"relative"},children:Object(jsx_runtime.jsxs)(Toolbar.a,{children:[Object(jsx_runtime.jsx)(IconButton.a,{edge:"start",color:"inherit",onClick:handleClose,"aria-label":"close",children:Object(jsx_runtime.jsx)(Close_default.a,{})}),Object(jsx_runtime.jsx)(Typography.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:title}),Object(jsx_runtime.jsx)(Button.a,{autoFocus:!0,disabled:!0===readonly,color:"inherit",onClick:handleOk,children:okTitle})]})}),Object(jsx_runtime.jsx)(ModelConfigTool_ModelConfigTool,{modelValue:modelVal,filterLabelsValue:labelsVal,onChange:handleValueChange})]})};ModelConfigDialog_ModelConfigDialog.displayName="ModelConfigDialog";try{ModelConfigDialog_ModelConfigDialog.displayName="ModelConfigDialog",ModelConfigDialog_ModelConfigDialog.__docgenInfo={description:"",displayName:"ModelConfigDialog",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},okTitle:{defaultValue:null,description:"",name:"okTitle",required:!0,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"PropObject"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onOK:{defaultValue:null,description:"",name:"onOK",required:!0,type:{name:"(newVal: PropObject) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ModelConfigDialog.tsx#ModelConfigDialog"]={docgenInfo:ModelConfigDialog_ModelConfigDialog.__docgenInfo,name:"ModelConfigDialog",path:"src/AppCanvas/RFNodes/ModelConfigDialog.tsx#ModelConfigDialog"})}catch(__react_docgen_typescript_loader_error){}var RFNodes_DetectionNodeBody=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/DetectionNodeBody.scss"),DetectionNodeBody_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(RFNodes_DetectionNodeBody.a,DetectionNodeBody_options),RFNodes_DetectionNodeBody.a.locals;function DetectionNodeBody_slicedToArray(arr,i){return function DetectionNodeBody_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DetectionNodeBody_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DetectionNodeBody_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DetectionNodeBody_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DetectionNodeBody_arrayLikeToArray(o,minLen)}(arr,i)||function DetectionNodeBody_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DetectionNodeBody_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DetectionNodeBody_DetectionNodeBody=function DetectionNodeBody(_ref){var nodeData=_ref.nodeData,renderModuleHeaderContent=_ref.renderModuleHeaderContent,_useState2=DetectionNodeBody_slicedToArray(Object(react.useState)(!1),2),modelSelectDialogOpen=_useState2[0],setModelSelectDialogOpen=_useState2[1],_useStore=useStore((function(state){return{modifyModuleProp:state.modifyModuleProp,propEditingDisabled:state.propEditingDisabled}}),shallow_default.a),modifyModuleProp=_useStore.modifyModuleProp,propEditingDisabled=_useStore.propEditingDisabled,handleSelectModClick=Object(react.useCallback)((function(){setModelSelectDialogOpen(!0)}),[setModelSelectDialogOpen]),handleModSelectClose=Object(react.useCallback)((function(){setModelSelectDialogOpen(!1)}),[]),handleModConfigChange=Object(react.useCallback)((function(newProp){Object.keys(newProp).forEach((function(propName){modifyModuleProp(nodeData.id,propName,newProp[propName])})),setModelSelectDialogOpen(!1)}),[modifyModuleProp,nodeData.id]),handleNodePropChange=Object(react.useCallback)((function(propName,propVal){modifyModuleProp(nodeData.id,propName,propVal)}),[modifyModuleProp,nodeData.id]),propObj=nodeData.props,numLabelsChecked=propObj.mod_labels?Object.values(propObj.mod_labels).filter((function(label){return label.checked})).length:0,modelNameDisplay=Object(react.useMemo)((function(){return""+(""!==propObj.mod_name&&void 0!==propObj.mod_name&&propObj.mod_iter_id?propObj.mod_name:"")}),[propObj]);return Object(jsx_runtime.jsxs)(Box.a,{sx:{bgcolor:"background.default",color:"text.primary"},className:"gddi-aiappcanvas__simplenode",children:[Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__section gddi-aiappcanvas__header",children:renderModuleHeaderContent(nodeData)}),Object(jsx_runtime.jsx)(Tooltip.a,{title:modelNameDisplay,children:Object(jsx_runtime.jsxs)(Button.a,{className:"gddi-aiappcanvas__section model-select-button",variant:"outlined",size:"large",onClick:handleSelectModClick,children:[Object(jsx_runtime.jsx)(Box.a,{className:"model-name",component:"span",children:modelNameDisplay}),Object(jsx_runtime.jsx)(Box.a,{className:"filterlabel-display",component:"span",children:""+numLabelsChecked})]})}),Object(jsx_runtime.jsx)(ModelConfigDialog_ModelConfigDialog,{readonly:propEditingDisabled,open:modelSelectDialogOpen,title:"",okTitle:"",defaultValue:propObj,onClose:handleModSelectClose,onOK:handleModConfigChange}),Object.keys(propObj).length>1?Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(NodeDetail_NodeDetail,{readonly:propEditingDisabled,nodeData:nodeData,onPropChange:handleNodePropChange})}):null]})};DetectionNodeBody_DetectionNodeBody.displayName="DetectionNodeBody";try{DetectionNodeBody_DetectionNodeBody.displayName="DetectionNodeBody",DetectionNodeBody_DetectionNodeBody.__docgenInfo={description:"",displayName:"DetectionNodeBody",props:{nodeData:{defaultValue:null,description:"",name:"nodeData",required:!0,type:{name:"Module"}},renderModuleHeaderContent:{defaultValue:null,description:"",name:"renderModuleHeaderContent",required:!0,type:{name:"(nodeData: Module) => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/DetectionNodeBody.tsx#DetectionNodeBody"]={docgenInfo:DetectionNodeBody_DetectionNodeBody.__docgenInfo,name:"DetectionNodeBody",path:"src/AppCanvas/RFNodes/DetectionNodeBody.tsx#DetectionNodeBody"})}catch(__react_docgen_typescript_loader_error){}var dist_esm=__webpack_require__("./node_modules/react-draw-roi/dist/esm/index.js"),dist=__webpack_require__("./node_modules/react-images-uploading/dist/index.js"),dist_default=__webpack_require__.n(dist),AsyncContents_ImgSourceLocal=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/AsyncContents/ImgSourceLocal.scss"),ImgSourceLocal_options={insert:"head",singleton:!1},FileUpload=(injectStylesIntoStyleTag_default()(AsyncContents_ImgSourceLocal.a,ImgSourceLocal_options),AsyncContents_ImgSourceLocal.a.locals,__webpack_require__("./node_modules/@mui/icons-material/FileUpload.js")),FileUpload_default=__webpack_require__.n(FileUpload);function ImgSourceLocal_slicedToArray(arr,i){return function ImgSourceLocal_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ImgSourceLocal_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ImgSourceLocal_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ImgSourceLocal_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ImgSourceLocal_arrayLikeToArray(o,minLen)}(arr,i)||function ImgSourceLocal_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImgSourceLocal_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ImgSourceLocal_ImgSourceLocal=function ImgSourceLocal(){var _useState2=ImgSourceLocal_slicedToArray(Object(react.useState)([]),2),images=_useState2[0],setImages=_useState2[1],_useState4=ImgSourceLocal_slicedToArray(Object(react.useState)([0,0]),2),imgWH=_useState4[0],setImgWH=_useState4[1],_useStore=useStore((function(state){return{setROIImg:state.setROIImg,setFetchROIImgLoading:state.setFetchROIImgLoading}}),shallow_default.a),setROIImg=_useStore.setROIImg,setFetchROIImgLoading=_useStore.setFetchROIImgLoading,handleUploadChange=Object(react.useCallback)((function(imageList,addUpdateIndex){setImages(imageList)}),[]),handleImgLoad=Object(react.useCallback)((function(evt){setImgWH([evt.target.width,evt.target.height]),setFetchROIImgLoading(!1)}),[setImgWH]),handleUseImageClick=Object(react.useCallback)((function(){if(images.length>0&&images[0].dataURL){var url=images[0].dataURL,_imgWH=ImgSourceLocal_slicedToArray(imgWH,2),width=_imgWH[0],height=_imgWH[1];setROIImg(url,width,height)}}),[images[0],imgWH]);return Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(dist_default.a,{multiple:!0,value:images,onChange:handleUploadChange,maxNumber:1,children:function children(_ref){var _imageList$0$file,imageList=_ref.imageList,onImageUpload=_ref.onImageUpload,onImageUpdate=_ref.onImageUpdate,isDragging=_ref.isDragging,dragProps=_ref.dragProps;return Object(jsx_runtime.jsxs)(Box.a,{className:"upload__image-wrapper",children:[Object(jsx_runtime.jsx)(Button.a,Object.assign({style:isDragging?{color:"red"}:void 0,onClick:function handleUploadClick(){0===imageList.length?onImageUpload():onImageUpdate(0)},variant:"contained",startIcon:Object(jsx_runtime.jsx)(FileUpload_default.a,{})},dragProps,{children:"upload"})),imageList.length>0&&Object(jsx_runtime.jsxs)(Box.a,{className:"image-item",children:[Object(jsx_runtime.jsx)("img",{hidden:!0,src:imageList[0].dataURL,alt:"",onLoad:handleImgLoad}),Object(jsx_runtime.jsx)(Box.a,{children:null===(_imageList$0$file=imageList[0].file)||void 0===_imageList$0$file?void 0:_imageList$0$file.name}),Object(jsx_runtime.jsx)(Box.a,{children:imgWH[0]+" x "+imgWH[1]}),Object(jsx_runtime.jsx)(Button.a,{className:"apply-button",onClick:handleUseImageClick,variant:"contained",children:""})]})]})}})})};ImgSourceLocal_ImgSourceLocal.displayName="ImgSourceLocal";var AsyncContents_ROIEditContent=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/AsyncContents/ROIEditContent.scss"),ROIEditContent_options={insert:"head",singleton:!1},Tabs=(injectStylesIntoStyleTag_default()(AsyncContents_ROIEditContent.a,ROIEditContent_options),AsyncContents_ROIEditContent.a.locals,__webpack_require__("./node_modules/@mui/material/Tabs/Tabs.js")),Tab=__webpack_require__("./node_modules/@mui/material/Tab/Tab.js"),CircularProgress=__webpack_require__("./node_modules/@mui/material/CircularProgress/CircularProgress.js"),ROIEditContent_excluded=["children","value","index"];function ROIEditContent_toConsumableArray(arr){return function ROIEditContent_arrayWithoutHoles(arr){if(Array.isArray(arr))return ROIEditContent_arrayLikeToArray(arr)}(arr)||function ROIEditContent_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ROIEditContent_unsupportedIterableToArray(arr)||function ROIEditContent_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROIEditContent_slicedToArray(arr,i){return function ROIEditContent_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ROIEditContent_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ROIEditContent_unsupportedIterableToArray(arr,i)||function ROIEditContent_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROIEditContent_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ROIEditContent_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ROIEditContent_arrayLikeToArray(o,minLen):void 0}}function ROIEditContent_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ROIEditContent_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function ROIEditContent_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=ROIEditContent_objectWithoutProperties(props,ROIEditContent_excluded);return Object(jsx_runtime.jsx)("div",Object.assign({className:"tabpanel",role:"tabpanel",hidden:value!==index,id:"simple-tabpanel-"+index,"aria-labelledby":"simple-tab-"+index},other,{children:value===index&&Object(jsx_runtime.jsx)(Box.a,{sx:{p:3},children:children})}))}function a11yProps(index){return{id:"simple-tab-"+index,"aria-controls":"simple-tabpanel-"+index}}TabPanel.displayName="TabPanel";var ROIEditContent_ROIEditContent=function ROIEditContent(_ref){var regions=_ref.regions,onRegionsChange=_ref.onRegionsChange,_useState2=ROIEditContent_slicedToArray(Object(react.useState)(0),2),tabId=_useState2[0],setTabId=_useState2[1],_useStore=useStore((function(state){return{propEditingDisabled:state.propEditingDisabled,roiImg:state.roiImg,fetchROIImgLoading:state.fetchROIImgLoading}}),shallow_default.a),roiImg=(_useStore.propEditingDisabled,_useStore.roiImg),fetchROIImgLoading=_useStore.fetchROIImgLoading,handleTabChange=Object(react.useCallback)((function(evt,newVal){setTabId(newVal)}),[]),handleRegionsChange=Object(react.useCallback)((function(r){onRegionsChange(ROIEditContent_toConsumableArray(r))}),[]);return Object(jsx_runtime.jsxs)(Box.a,{className:"editor-content",children:[Object(jsx_runtime.jsxs)(Box.a,{className:"tab-area",children:[Object(jsx_runtime.jsx)(Box.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(jsx_runtime.jsxs)(Tabs.a,{value:tabId,onChange:handleTabChange,"aria-label":"basic tabs example",children:[Object(jsx_runtime.jsx)(Tab.a,Object.assign({label:""},a11yProps(0))),Object(jsx_runtime.jsx)(Tab.a,Object.assign({label:""},a11yProps(1)))]})}),Object(jsx_runtime.jsx)(TabPanel,{value:tabId,index:0}),Object(jsx_runtime.jsx)(TabPanel,{value:tabId,index:1,children:Object(jsx_runtime.jsx)(ImgSourceLocal_ImgSourceLocal,{})})]}),Object(jsx_runtime.jsx)(Box.a,{className:"canvas-and-control-area",children:fetchROIImgLoading?Object(jsx_runtime.jsx)(CircularProgress.a,{}):Object(jsx_runtime.jsx)(Box.a,{className:"canvas-area",children:Object(jsx_runtime.jsx)(dist_esm.b,{imgUrl:roiImg.url,defaultROIs:regions,onROIsChange:handleRegionsChange,children:Object(jsx_runtime.jsx)(dist_esm.a,{})})})})]})};ROIEditContent_ROIEditContent.displayName="ROIEditContent";try{ROIEditContent_ROIEditContent.displayName="ROIEditContent",ROIEditContent_ROIEditContent.__docgenInfo={description:"",displayName:"ROIEditContent",props:{regions:{defaultValue:null,description:"",name:"regions",required:!0,type:{name:"number[][][]"}},onRegionsChange:{defaultValue:null,description:"",name:"onRegionsChange",required:!0,type:{name:"(newRegions: number[][][]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/AsyncContents/ROIEditContent.tsx#ROIEditContent"]={docgenInfo:ROIEditContent_ROIEditContent.__docgenInfo,name:"ROIEditContent",path:"src/AppCanvas/AsyncContents/ROIEditContent.tsx#ROIEditContent"})}catch(__react_docgen_typescript_loader_error){}function ROIDialog_toConsumableArray(arr){return function ROIDialog_arrayWithoutHoles(arr){if(Array.isArray(arr))return ROIDialog_arrayLikeToArray(arr)}(arr)||function ROIDialog_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ROIDialog_unsupportedIterableToArray(arr)||function ROIDialog_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROIDialog_slicedToArray(arr,i){return function ROIDialog_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ROIDialog_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ROIDialog_unsupportedIterableToArray(arr,i)||function ROIDialog_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROIDialog_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ROIDialog_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ROIDialog_arrayLikeToArray(o,minLen):void 0}}function ROIDialog_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ROIDialog_Transition=react_default.a.forwardRef((function Transition(props,ref){return Object(jsx_runtime.jsx)(Slide.a,Object.assign({direction:"up",ref:ref},props))})),ROIDialog_ROIDialog=function ROIDialog(_ref){var readonly=_ref.readonly,open=_ref.open,title=_ref.title,okTitle=_ref.okTitle,defaultRegions=_ref.defaultRegions,onClose=_ref.onClose,onOK=_ref.onOK,_useState2=ROIDialog_slicedToArray(Object(react.useState)([]),2),regions=_useState2[0],setRegions=_useState2[1],handleClose=Object(react.useCallback)((function(){setRegions(ROIDialog_toConsumableArray(defaultRegions)),onClose()}),[defaultRegions]),handleOk=Object(react.useCallback)((function(){onOK(regions)}),[regions]),handleRegionsChange=Object(react.useCallback)((function(newR){setRegions((function(old){return ROIDialog_toConsumableArray(newR)}))}),[setRegions]);return Object(react.useEffect)((function(){setRegions(ROIDialog_toConsumableArray(defaultRegions))}),[defaultRegions]),Object(jsx_runtime.jsxs)(Dialog.a,{fullScreen:!0,open:open,onClose:handleClose,TransitionComponent:ROIDialog_Transition,children:[Object(jsx_runtime.jsx)(AppBar.a,{sx:{position:"relative"},children:Object(jsx_runtime.jsxs)(Toolbar.a,{children:[Object(jsx_runtime.jsx)(IconButton.a,{edge:"start",color:"inherit",onClick:handleClose,"aria-label":"close",children:Object(jsx_runtime.jsx)(Close_default.a,{})}),Object(jsx_runtime.jsx)(Typography.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:title}),Object(jsx_runtime.jsx)(Button.a,{autoFocus:!0,disabled:!0===readonly,color:"inherit",onClick:handleOk,children:okTitle})]})}),Object(jsx_runtime.jsx)(ROIEditContent_ROIEditContent,{regions:defaultRegions,onRegionsChange:handleRegionsChange})]})};ROIDialog_ROIDialog.displayName="ROIDialog";try{ROIDialog_ROIDialog.displayName="ROIDialog",ROIDialog_ROIDialog.__docgenInfo={description:"",displayName:"ROIDialog",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},okTitle:{defaultValue:null,description:"",name:"okTitle",required:!0,type:{name:"string"}},defaultRegions:{defaultValue:null,description:"",name:"defaultRegions",required:!0,type:{name:"number[][][]"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onOK:{defaultValue:null,description:"",name:"onOK",required:!0,type:{name:"(newRegions: number[][][]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ROIDialog.tsx#ROIDialog"]={docgenInfo:ROIDialog_ROIDialog.__docgenInfo,name:"ROIDialog",path:"src/AppCanvas/RFNodes/ROIDialog.tsx#ROIDialog"})}catch(__react_docgen_typescript_loader_error){}function ROINodeBody_toConsumableArray(arr){return function ROINodeBody_arrayWithoutHoles(arr){if(Array.isArray(arr))return ROINodeBody_arrayLikeToArray(arr)}(arr)||function ROINodeBody_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ROINodeBody_unsupportedIterableToArray(arr)||function ROINodeBody_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROINodeBody_slicedToArray(arr,i){return function ROINodeBody_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ROINodeBody_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ROINodeBody_unsupportedIterableToArray(arr,i)||function ROINodeBody_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ROINodeBody_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ROINodeBody_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ROINodeBody_arrayLikeToArray(o,minLen):void 0}}function ROINodeBody_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ROINodeBody_ROINodeBody=function ROINodeBody(_ref){var nodeData=_ref.nodeData,renderModuleHeaderContent=_ref.renderModuleHeaderContent,_useState2=ROINodeBody_slicedToArray(Object(react.useState)(!1),2),dialogOpen=_useState2[0],setDialogOpen=_useState2[1],_useStore=useStore((function(state){return{modDef:state.moduleDefinitions[nodeData.type],modifyModuleProp:state.modifyModuleProp,propEditingDisabled:state.propEditingDisabled,setFetchROIImgLoading:state.setFetchROIImgLoading,fetchROIImgURL:state.fetchROIImgURL,roiImgFetcher:state.roiImgFetcher}}),shallow_default.a),modifyModuleProp=_useStore.modifyModuleProp,propEditingDisabled=_useStore.propEditingDisabled,setFetchROIImgLoading=_useStore.setFetchROIImgLoading,fetchROIImgURL=_useStore.fetchROIImgURL,roiImgFetcher=_useStore.roiImgFetcher,handleDialogClose=Object(react.useCallback)((function(){setDialogOpen(!1)}),[]),handleDialogOk=Object(react.useCallback)((function(okVal){setDialogOpen(!1),modifyModuleProp(nodeData.id,"regions",ROINodeBody_toConsumableArray(okVal))}),[nodeData.id,modifyModuleProp]),handleEditROIClick=Object(react.useCallback)((function(){setDialogOpen(!0)}),[]),handleNodePropChange=Object(react.useCallback)((function(propName,propVal){modifyModuleProp(nodeData.id,propName,propVal)}),[modifyModuleProp,nodeData.id]),propObj=nodeData.props,regions=propObj.regions;return Object(react.useEffect)((function(){setFetchROIImgLoading(!0),fetchROIImgURL()}),[fetchROIImgURL,roiImgFetcher,setFetchROIImgLoading]),Object(jsx_runtime.jsxs)(Box.a,{sx:{bgcolor:"background.default",color:"text.primary"},className:"gddi-aiappcanvas__simplenode",children:[Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__section gddi-aiappcanvas__header",children:renderModuleHeaderContent(nodeData)}),Object(jsx_runtime.jsxs)(Button.a,{className:"gddi-aiappcanvas__section roi-edit-button",variant:"outlined",size:"large",onClick:handleEditROIClick,children:[Object(jsx_runtime.jsx)(Box.a,{component:"span",children:nodeData.type}),Object(jsx_runtime.jsx)(Box.a,{className:"filterlabel-display",component:"span",children:regions.length+" region"+(regions.length>1?"s":"")})]}),Object(jsx_runtime.jsx)(ROIDialog_ROIDialog,{readonly:propEditingDisabled,open:dialogOpen,title:" ROI",okTitle:"",defaultRegions:regions,onClose:handleDialogClose,onOK:handleDialogOk}),Object.keys(propObj).length>1?Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(NodeDetail_NodeDetail,{readonly:propEditingDisabled,nodeData:nodeData,onPropChange:handleNodePropChange})}):null]})};ROINodeBody_ROINodeBody.displayName="ROINodeBody";try{ROINodeBody_ROINodeBody.displayName="ROINodeBody",ROINodeBody_ROINodeBody.__docgenInfo={description:"",displayName:"ROINodeBody",props:{nodeData:{defaultValue:null,description:"",name:"nodeData",required:!0,type:{name:"Module"}},renderModuleHeaderContent:{defaultValue:null,description:"",name:"renderModuleHeaderContent",required:!0,type:{name:"(nodeData: Module) => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ROINodeBody.tsx#ROINodeBody"]={docgenInfo:ROINodeBody_ROINodeBody.__docgenInfo,name:"ROINodeBody",path:"src/AppCanvas/RFNodes/ROINodeBody.tsx#ROINodeBody"})}catch(__react_docgen_typescript_loader_error){}function ModuleNameEdit_slicedToArray(arr,i){return function ModuleNameEdit_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ModuleNameEdit_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ModuleNameEdit_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ModuleNameEdit_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ModuleNameEdit_arrayLikeToArray(o,minLen)}(arr,i)||function ModuleNameEdit_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ModuleNameEdit_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ModuleNameEdit_ModuleNameEdit=function ModuleNameEdit(_ref){var readonly=_ref.readonly,width=_ref.width,name=_ref.name,onChange=_ref.onChange,_useState2=ModuleNameEdit_slicedToArray(Object(react.useState)(!1),2),editing=_useState2[0],setEditing=_useState2[1],handleEditClick=Object(react.useCallback)((function(){setEditing(!0)}),[setEditing]),handleInputChange=Object(react.useCallback)((function(e){onChange(e.target.value)}),[onChange]),handleInputKeyDown=Object(react.useCallback)((function(e){"Enter"===e.key&&setEditing(!1)}),[setEditing]),handleBlur=Object(react.useCallback)((function(){setEditing(!1)}),[setEditing]);return Object(jsx_runtime.jsxs)(Box.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[editing?Object(jsx_runtime.jsx)(Input.a,{style:{width:"100%"},value:name,inputProps:{"aria-label":"module name"},onChange:handleInputChange,autoFocus:!0,onBlur:handleBlur,onKeyDown:handleInputKeyDown}):Object(jsx_runtime.jsx)(Box.a,{component:"span",sx:{width:width||"240px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:name}),!readonly&&!editing&&Object(jsx_runtime.jsx)(Edit_default.a,{sx:{cursor:"pointer",opacity:.6,fontSize:"1.25rem"},onClick:handleEditClick})]})};ModuleNameEdit_ModuleNameEdit.displayName="ModuleNameEdit";try{ModuleNameEdit_ModuleNameEdit.displayName="ModuleNameEdit",ModuleNameEdit_ModuleNameEdit.__docgenInfo={description:"",displayName:"ModuleNameEdit",props:{readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newName: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/ModuleNameEdit.tsx#ModuleNameEdit"]={docgenInfo:ModuleNameEdit_ModuleNameEdit.__docgenInfo,name:"ModuleNameEdit",path:"src/AppCanvas/RFNodes/ModuleNameEdit.tsx#ModuleNameEdit"})}catch(__react_docgen_typescript_loader_error){}var SimpleNode=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/RFNodes/SimpleNode.scss"),SimpleNode_options={insert:"head",singleton:!1},SimpleNode_ModuleHeaderElement=(injectStylesIntoStyleTag_default()(SimpleNode.a,SimpleNode_options),SimpleNode.a.locals,function ModuleHeaderElement(_ref){var nodeData=_ref.nodeData,_useStore=useStore((function(state){return{removeModule:state.removeModule,moduleDescription:state.moduleDefinitions[nodeData.type].description}}),shallow_default.a),removeModule=_useStore.removeModule,moduleDescription=_useStore.moduleDescription,handleModDelete=Object(react.useCallback)((function(){removeModule(nodeData.id)}),[nodeData.id,removeModule]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Box.a,{className:"gddi-aiappcanvas__simplenode-header-left",children:[Object(jsx_runtime.jsx)("label",{className:"header-text",children:nodeData.type}),moduleDescription&&Object(jsx_runtime.jsx)(HtmlTooltip,{title:moduleDescription,children:Object(jsx_runtime.jsx)(HelpOutline_default.a,{className:"description-question-icon",sx:{marginLeft:"0.2rem"}})})]}),Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__simplenode-header-right",children:Object(jsx_runtime.jsx)(NodeDropDown_NodeDropDown,{onDeleteClick:handleModDelete})})]})}),SimpleNode_SimpleNodeBody=function SimpleNodeBody(_ref2){var nodeData=_ref2.nodeData,_useStore2=useStore((function(state){return{modifyModuleName:state.modifyModuleName,modifyModuleProp:state.modifyModuleProp,propEditingDisabled:state.propEditingDisabled}}),shallow_default.a),modifyModuleName=_useStore2.modifyModuleName,modifyModuleProp=_useStore2.modifyModuleProp,propEditingDisabled=_useStore2.propEditingDisabled,handleNodePropChange=Object(react.useCallback)((function(propName,propVal){modifyModuleProp(nodeData.id,propName,propVal)}),[modifyModuleProp,nodeData.id]),handleNodeNameChange=Object(react.useCallback)((function(newName){modifyModuleName(nodeData.id,newName)}),[modifyModuleName,nodeData.id]);return Object(jsx_runtime.jsxs)(Box.a,{sx:{bgcolor:"background.default",color:"text.primary"},className:"gddi-aiappcanvas__simplenode",children:[Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__section gddi-aiappcanvas__header",children:Object(jsx_runtime.jsx)(SimpleNode_ModuleHeaderElement,{nodeData:nodeData})}),Object(jsx_runtime.jsx)(Box.a,{className:"gddi-aiappcanvas__section module-type-display",children:Object(jsx_runtime.jsx)(ModuleNameEdit_ModuleNameEdit,{readonly:propEditingDisabled,name:nodeData.name,onChange:handleNodeNameChange})}),nodeData.props?Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(NodeDetail_NodeDetail,{readonly:propEditingDisabled,nodeData:nodeData,onPropChange:handleNodePropChange})}):null]})};SimpleNode_SimpleNodeBody.displayName="SimpleNodeBody";var SimpleNode_SimpleNode0=function SimpleNode0(_ref3){var id=_ref3.data.id,nodeData=useStore((function(state){return{nodeData:state.value.nodes.find((function(n){return n.id===id}))}}),shallow_default.a).nodeData,NodeBodyEle=Object(react.useMemo)((function(){return void 0===nodeData?null:isModelNode(nodeData)?Object(jsx_runtime.jsx)(QueryModelContext.Provider,{value:{queryModelType:(node=nodeData,node.type.toLocaleLowerCase().includes("detection")?"detection":node.type.toLocaleLowerCase().includes("classification")?"classification":node.type.toLocaleLowerCase().includes("pose")?"pose":void 0)},children:Object(jsx_runtime.jsx)(DetectionNodeBody_DetectionNodeBody,{nodeData:nodeData,renderModuleHeaderContent:function renderModuleHeaderContent(nodeData){return Object(jsx_runtime.jsx)(SimpleNode_ModuleHeaderElement,{nodeData:nodeData})}})}):nodeData.type.toLocaleLowerCase().includes("roi")?Object(jsx_runtime.jsx)(ROINodeBody_ROINodeBody,{nodeData:nodeData,renderModuleHeaderContent:function renderModuleHeaderContent(nodeData){return Object(jsx_runtime.jsx)(SimpleNode_ModuleHeaderElement,{nodeData:nodeData})}}):Object(jsx_runtime.jsx)(SimpleNode_SimpleNodeBody,{nodeData:nodeData});var node}),[nodeData]);return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:nodeData&&Object(jsx_runtime.jsxs)(Box.a,{className:"gddi-aiappcanvas__simplenode-wrapper",children:[Object(jsx_runtime.jsx)(SimpleNodeHandles_SimpleNodeHandles,{handleIdPrefix:"chris-pipenode-"+id.toString(),nodeType:nodeData.type,isInput:!0}),NodeBodyEle,Object(jsx_runtime.jsx)(SimpleNodeHandles_SimpleNodeHandles,{handleIdPrefix:"chris-pipenode-"+id.toString(),nodeType:nodeData.type,isInput:!1})]})})},SimpleNode_SimpleNode=react_default.a.memo(SimpleNode_SimpleNode0);try{SimpleNode_ModuleHeaderElement.displayName="ModuleHeaderElement",SimpleNode_ModuleHeaderElement.__docgenInfo={description:"",displayName:"ModuleHeaderElement",props:{nodeData:{defaultValue:null,description:"",name:"nodeData",required:!0,type:{name:"Module"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/SimpleNode.tsx#ModuleHeaderElement"]={docgenInfo:SimpleNode_ModuleHeaderElement.__docgenInfo,name:"ModuleHeaderElement",path:"src/AppCanvas/RFNodes/SimpleNode.tsx#ModuleHeaderElement"})}catch(__react_docgen_typescript_loader_error){}try{SimpleNode_SimpleNode.displayName="SimpleNode",SimpleNode_SimpleNode.__docgenInfo={description:"",displayName:"SimpleNode",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ id: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFNodes/SimpleNode.tsx#SimpleNode"]={docgenInfo:SimpleNode_SimpleNode.__docgenInfo,name:"SimpleNode",path:"src/AppCanvas/RFNodes/SimpleNode.tsx#SimpleNode"})}catch(__react_docgen_typescript_loader_error){}var rfNodeTypes={};rfNodeTypes.simpleNode=SimpleNode_SimpleNode;var CancelRounded=__webpack_require__("./node_modules/@mui/icons-material/CancelRounded.js"),CancelRounded_default=__webpack_require__.n(CancelRounded);function SimpleEdge_slicedToArray(arr,i){return function SimpleEdge_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SimpleEdge_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SimpleEdge_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SimpleEdge_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SimpleEdge_arrayLikeToArray(o,minLen)}(arr,i)||function SimpleEdge_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SimpleEdge_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SimpleEdge_SimpleEdge0=function SimpleEdge0(_ref){var id=_ref.id,sourceX=_ref.sourceX,sourceY=_ref.sourceY,targetX=_ref.targetX,targetY=_ref.targetY,sourcePosition=_ref.sourcePosition,targetPosition=_ref.targetPosition,markerEnd=_ref.markerEnd,style=_ref.style,_useStore=useStore((function(state){return{removeConnection:state.removeConnection,graphEditingDisabled:state.graphEditingDisabled}}),shallow_default.a),removeConnection=_useStore.removeConnection,graphEditingDisabled=_useStore.graphEditingDisabled,edgePath=Object(esm.d)({sourceX:sourceX,sourceY:sourceY,sourcePosition:sourcePosition,targetX:targetX,targetY:targetY,targetPosition:targetPosition}),_getEdgeCenter2=SimpleEdge_slicedToArray(Object(esm.e)({sourceX:sourceX,sourceY:sourceY,targetX:targetX,targetY:targetY}),2),edgeCenterX=_getEdgeCenter2[0],edgeCenterY=_getEdgeCenter2[1],onEdgeClick=Object(react.useCallback)((function(event,edgeId){event.stopPropagation(),removeConnection(edgeId)}),[removeConnection]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("path",{id:id,style:style,className:"react-flow__edge-path",d:edgePath,markerEnd:markerEnd}),!graphEditingDisabled&&Object(jsx_runtime.jsx)("foreignObject",{width:40,height:40,x:edgeCenterX-20,y:edgeCenterY-40/3,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml",children:Object(jsx_runtime.jsx)(CancelRounded_default.a,{style:{color:"gray",cursor:"pointer"},className:"edgebutton",onClick:function onClick(event){return onEdgeClick(event,id)}})})]})},SimpleEdge=react_default.a.memo(SimpleEdge_SimpleEdge0);try{SimpleEdge.displayName="SimpleEdge",SimpleEdge.__docgenInfo={description:"",displayName:"SimpleEdge",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/RFEdges/SimpleEdge.tsx#SimpleEdge"]={docgenInfo:SimpleEdge.__docgenInfo,name:"SimpleEdge",path:"src/AppCanvas/RFEdges/SimpleEdge.tsx#SimpleEdge"})}catch(__react_docgen_typescript_loader_error){}var rfEdgeTypes={};function dataTransform_toConsumableArray(arr){return function dataTransform_arrayWithoutHoles(arr){if(Array.isArray(arr))return dataTransform_arrayLikeToArray(arr)}(arr)||function dataTransform_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function dataTransform_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return dataTransform_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dataTransform_arrayLikeToArray(o,minLen)}(arr)||function dataTransform_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dataTransform_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}rfEdgeTypes.simpleEdge=SimpleEdge;var getRandomInt=function getRandomInt(min,max){var min1=Math.ceil(min),max1=Math.floor(max);return Math.floor(Math.random()*(max1-min1)+min1)},dataTransform_getRFNode=function getRFNode(module,layoutVertically){return{id:"chris-pipenode-"+module.id.toString(),type:"simpleNode",position:{x:100+getRandomInt(-30,30),y:100+getRandomInt(-30,30)},sourcePosition:layoutVertically?"bottom":"right",targetPosition:layoutVertically?"top":"left",data:{id:module.id,elementType:"node"}}},getRFNodes=function getRFNodes(modules){var nodes=modules.map((function(module){return dataTransform_getRFNode(module)}));return nodes},dataTransform_getRFEdge=function getRFEdge(conn){return{id:"chris-pipeedge-"+conn.join("_"),source:"chris-pipenode-"+conn[0].toString(),target:"chris-pipenode-"+conn[2].toString(),sourceHandle:"chris-pipenode-"+conn[0].toString()+"-output-"+conn[1].toString(),targetHandle:"chris-pipenode-"+conn[2].toString()+"-input-"+conn[3].toString(),style:{strokeWidth:2},markerEnd:{type:"arrowclosed"},data:{elementType:"edge",connection:conn},type:"simpleEdge"}},getRFEdges=function getRFEdges(connections){var edges=[];return connections.forEach((function(conn){edges.push(dataTransform_getRFEdge(conn))})),edges},getNextModuleId=function getNextModuleId(modules){var id=-1;return modules.forEach((function(mod){id=Math.max(mod.id,id)})),id+=1},updateIds=function updateIds(modules,connections,modules0){var mods1=dataTransform_toConsumableArray(modules),conns1=connections.map((function(conn){return dataTransform_toConsumableArray(conn)})),modIdNew=getNextModuleId(modules0);return modules.forEach((function(mod,modIdx){var modId0=mod.id;modId0!==modIdNew&&(mods1[modIdx]=Object.assign({},mod,{id:modIdNew}),connections.forEach((function(conn,connIdx){conn[0]===modId0&&(conns1[connIdx][0]=modIdNew),conn[2]===modId0&&(conns1[connIdx][2]=modIdNew)}))),modIdNew+=1})),[mods1,conns1]},setModulePropInited=function setModulePropInited(module){var res=Object.assign({},module);return module.props&&(res.propsInited=Object.assign({},res.props)),res},elk_bundled=__webpack_require__("./node_modules/elkjs/lib/elk.bundled.js"),elk=new(__webpack_require__.n(elk_bundled).a),graphLayoutHelper=function graphLayoutHelper(elements,verticalDirection){var layoutOption={"elk.algorithm":"layered"};verticalDirection&&(layoutOption["elk.direction"]="DOWN");var graph={id:"root",children:[],edges:[]};return elements.forEach((function(ele){if("node"===ele.data.elementType){var eleNode=ele;graph.children.push({id:eleNode.id,width:410,height:400})}else{var eleEdge=ele,graphEdgeArray=graph.edges,graphEdge=graphEdgeArray.find((function(ge){return ge.id===eleEdge.id}));void 0===graphEdge?graphEdgeArray.push({id:eleEdge.id,sources:[eleEdge.source],targets:[eleEdge.target]}):(graphEdge.sources.push(eleEdge.source),graphEdge.targets.push(eleEdge.target))}})),new Promise((function(resolve,reject){elk.layout(graph,{layoutOptions:layoutOption}).then((function(newValue){var _newValue$children,_newValue$edges,result={nodes:[],edges:[]};null===(_newValue$children=newValue.children)||void 0===_newValue$children||_newValue$children.forEach((function(elkNode){result.nodes.push({nodeId:elkNode.id,x:elkNode.x||100,y:elkNode.y||100})})),null===(_newValue$edges=newValue.edges)||void 0===_newValue$edges||_newValue$edges.forEach((function(elkEdge){if(elkEdge.sections){var section=elkEdge.sections[0];result.edges.push({edgeId:elkEdge.id,startPoint:{x:section.startPoint.x,y:section.startPoint.y},endPoint:{x:section.endPoint.x,y:section.endPoint.y}})}})),resolve(result)})).catch(reject)}))};function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null}function stringToHex(str){var hash=0;if(0===str.length)return"#000000";for(var i=0;i<str.length;i++)hash=str.charCodeAt(i)+((hash<<5)-hash),hash&=hash;for(var color="#",_i=0;_i<3;_i++){color+=(hash>>8*_i&255).toString(16)}return color}var initValue={version:"v0.1.0",nodes:[],pipe:[]};function createCoreSlice_slicedToArray(arr,i){return function createCoreSlice_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function createCoreSlice_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||createCoreSlice_unsupportedIterableToArray(arr,i)||function createCoreSlice_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function createCoreSlice_toConsumableArray(arr){return function createCoreSlice_arrayWithoutHoles(arr){if(Array.isArray(arr))return createCoreSlice_arrayLikeToArray(arr)}(arr)||function createCoreSlice_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||createCoreSlice_unsupportedIterableToArray(arr)||function createCoreSlice_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function createCoreSlice_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return createCoreSlice_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?createCoreSlice_arrayLikeToArray(o,minLen):void 0}}function createCoreSlice_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var store_createCoreSlice=function createCoreSlice(set,get){return{value:initValue,moduleDefinitions:{},rfElements:[],layoutVertically:!1,setRfInstance:function setRfInstance(inst){set(Object(immer_esm.a)((function(draft){draft.rfInstance=inst})))},setModuleDefinitions:function setModuleDefinitions(newMDs){set(Object(immer_esm.a)((function(draft){draft.moduleDefinitions=Object.assign({},newMDs)})))},setValue:(_setValue=_asyncToGenerator(regeneratorRuntime.mark((function _callee(newValue){var rfElements,_get,layoutVertically;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return rfElements=[].concat(createCoreSlice_toConsumableArray(getRFNodes(newValue.nodes)),createCoreSlice_toConsumableArray(getRFEdges(newValue.pipe))),_get=get(),layoutVertically=_get.layoutVertically,_context.next=4,graphLayoutHelper(rfElements,layoutVertically);case 4:_context.sent.nodes.forEach((function(np){var ele=rfElements.find((function(e){return e.id===np.nodeId}));ele&&(ele.position={x:np.x,y:np.y})})),set(Object(immer_esm.a)((function(draft){var draft1=draft;draft1.value.version=newValue.version,draft1.value.nodes=newValue.nodes.map((function(node){return setModulePropInited(node)})),draft1.value.pipe=createCoreSlice_toConsumableArray(newValue.pipe),draft1.rfElements=createCoreSlice_toConsumableArray(rfElements)})));case 7:case"end":return _context.stop()}}),_callee)}))),function setValue(_x){return _setValue.apply(this,arguments)}),addPipeline:(_addPipeline=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(modules,connections){var _get2,value,rfElements,layoutVertically,_updateIds,_updateIds2,mods1,conns1,rfNodesNew,rfEdgeNew,rfElements1,newPostions;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _get2=get(),value=_get2.value,rfElements=_get2.rfElements,layoutVertically=_get2.layoutVertically,_updateIds=updateIds(modules,connections,value.nodes),_updateIds2=createCoreSlice_slicedToArray(_updateIds,2),mods1=_updateIds2[0],conns1=_updateIds2[1],rfNodesNew=mods1.map((function(mod){return dataTransform_getRFNode(mod)})),rfEdgeNew=conns1.map((function(_ref){var _ref2=createCoreSlice_slicedToArray(_ref,4),srcId=_ref2[0],srcOutputId=_ref2[1],targetId=_ref2[2],targetInputId=_ref2[3];return dataTransform_getRFEdge([srcId,srcOutputId,targetId,targetInputId])})),rfElements1=[].concat(createCoreSlice_toConsumableArray(rfElements),createCoreSlice_toConsumableArray(rfNodesNew),createCoreSlice_toConsumableArray(rfEdgeNew)),_context2.next=7,graphLayoutHelper(rfElements1,layoutVertically);case 7:newPostions=_context2.sent,set(Object(immer_esm.a)((function(draft){var draft1=draft;mods1.forEach((function(mod1){draft1.value.nodes.push(setModulePropInited(mod1))})),conns1.forEach((function(_ref3){var _ref4=createCoreSlice_slicedToArray(_ref3,4),srcId=_ref4[0],srcOutputId=_ref4[1],targetId=_ref4[2],targetInputId=_ref4[3];draft1.value.pipe.push([srcId,srcOutputId,targetId,targetInputId])})),rfNodesNew.forEach((function(nodeNew){var p=newPostions.nodes.find((function(np){return np.nodeId===nodeNew.id}));p&&(nodeNew.position={x:p.x,y:p.y}),draft1.rfElements.push(nodeNew)})),rfEdgeNew.forEach((function(edgeNew){draft1.rfElements.push(edgeNew)})),newPostions.nodes.forEach((function(np){var ele1=draft1.rfElements.find((function(e){return e.id===np.nodeId}));ele1&&(ele1.position={x:np.x,y:np.y})}))})));case 9:case"end":return _context2.stop()}}),_callee2)}))),function addPipeline(_x2,_x3){return _addPipeline.apply(this,arguments)}),addModule:function addModule(module){set(Object(immer_esm.a)((function(draft){var draft1=draft,id=module.id;void 0===id&&(id=getNextModuleId(draft.value.nodes));var module1=Object.assign({},setModulePropInited(module),{id:id});draft1.value.nodes.push(module1),draft1.rfElements.push(dataTransform_getRFNode(module1))})))},modifyModuleProp:function modifyModuleProp(moduleId,propName,propVal){set(Object(immer_esm.a)((function(draft){var module=draft.value.nodes.find((function(n){return n.id===moduleId}));module&&(module.props||(module.props={}),module.props[propName]=propVal)})))},modifyModuleName:function modifyModuleName(moduleId,newName){set(Object(immer_esm.a)((function(draft){var module=draft.value.nodes.find((function(n){return n.id===moduleId}));module&&(module.name=newName)})))},modifyModuleRunner:function modifyModuleRunner(moduleId,runner){set(Object(immer_esm.a)((function(draft){var module=draft.value.nodes.find((function(n){return n.id===moduleId}));module&&(module.runner=runner)})))},removeModule:function removeModule(moduleId){set(Object(immer_esm.a)((function(draft){var draft1=draft,rfNodeIdx=draft1.rfElements.findIndex((function(ele){return ele.data.id===moduleId}));rfNodeIdx>=0&&draft1.rfElements.splice(rfNodeIdx,1);var moduleIdx=draft1.value.nodes.findIndex((function(node){return node.id===moduleId}));moduleIdx>=0&&draft1.value.nodes.splice(moduleIdx,1),draft1.rfElements=draft1.rfElements.filter((function(ele){return void 0===ele.data.connection||ele.data.connection&&ele.data.connection[0]!==moduleId&&ele.data.connection[2]!==moduleId})),draft1.value.pipe=draft1.value.pipe.filter((function(conn){return conn[0]!==moduleId&&conn[2]!==moduleId}))})))},connectModules:function connectModules(srcId,srcOutputId,targetId,targetInputId){set(Object(immer_esm.a)((function(draft){var draft1=draft;draft1.value.pipe.push([srcId,srcOutputId,targetId,targetInputId]),draft1.rfElements.push(dataTransform_getRFEdge([srcId,srcOutputId,targetId,targetInputId]))})))},removeConnection:function removeConnection(rfEdgeId){set(Object(immer_esm.a)((function(draft){var draft1=draft,edgeIdx=draft1.rfElements.findIndex((function(rfEle){return rfEle.id===rfEdgeId}));if(edgeIdx>=0){var removedRFEdge=draft1.rfElements.splice(edgeIdx,1);if(removedRFEdge){var removedConn=removedRFEdge[0].data.connection,pipeIdx=draft1.value.pipe.findIndex((function(conn){return conn[0]===removedConn[0]&&conn[1]===removedConn[1]&&conn[2]===removedConn[2]&&conn[3]===removedConn[3]}));pipeIdx>=0&&draft1.value.pipe.splice(pipeIdx,1)}}})))},layoutGraph:function layoutGraph(){var _get3=get(),rfElements=_get3.rfElements,layoutVertically=_get3.layoutVertically;graphLayoutHelper(rfElements,layoutVertically).then((function(res){res.nodes.forEach((function(r){set(Object(immer_esm.a)((function(draft){var eleNode=draft.rfElements.find((function(n){return n.id===r.nodeId}));eleNode&&(eleNode.position={x:r.x+Math.random(),y:r.y})})))}))}))},clear:function clear(){set(Object(immer_esm.a)((function(draft){var draft1=draft;draft1.value={version:"v0.1.0",nodes:[],pipe:[]},draft1.rfElements=[]})))},setLayoutVertically:function setLayoutVertically(lv){set(Object(immer_esm.a)((function(draft){draft.layoutVertically=lv,draft.rfElements.forEach((function(ele){if(ele.data&&"node"===ele.data.elementType){var rfNode=ele;rfNode.sourcePosition=lv?"bottom":"right",rfNode.targetPosition=lv?"top":"left"}}))})))},putNodeFront:function putNodeFront(moduleId){set(Object(immer_esm.a)((function(draft){var _step,_iterator=function createCoreSlice_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=createCoreSlice_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(draft.rfElements);try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;node.data&&"node"===node.data.elementType&&(node.zIndex=node.data&&node.data.id===moduleId?100:0)}}catch(err){_iterator.e(err)}finally{_iterator.f()}})))}};var _addPipeline,_setValue};function createCoreExtSlice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function createCoreExtSlice_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){createCoreExtSlice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){createCoreExtSlice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function createCoreExtSlice_toConsumableArray(arr){return function createCoreExtSlice_arrayWithoutHoles(arr){if(Array.isArray(arr))return createCoreExtSlice_arrayLikeToArray(arr)}(arr)||function createCoreExtSlice_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function createCoreExtSlice_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return createCoreExtSlice_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return createCoreExtSlice_arrayLikeToArray(o,minLen)}(arr)||function createCoreExtSlice_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function createCoreExtSlice_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var pageSize=10,store_createCoreExtSlice=function createCoreExtSlice(set,get){return{roiImg:{url:void 0,width:1280,height:720},fetchLoading:!1,fetchROIImgLoading:!1,fetchModelRes:{models:[],totalCnt:0},searchModelRes:{models:[],totalCnt:0},modelListFetcher:void 0,roiImgFetcher:void 0,setFetchLoading:function setFetchLoading(loading){set(Object(immer_esm.a)((function(draft){draft.fetchLoading=loading})))},setFetchROIImgLoading:function setFetchROIImgLoading(loading){set(Object(immer_esm.a)((function(draft){draft.fetchROIImgLoading=loading})))},resetModuleProps:function resetModuleProps(){set(Object(immer_esm.a)((function(draft){draft.value.nodes.forEach((function(mod){mod.props&&Object.keys(mod.props).forEach((function(propName){mod.props[propName]=mod.propsInited[propName]}))}))})))},setModelListFetcher:function setModelListFetcher(fetcher){set(Object(immer_esm.a)((function(draft){draft.modelListFetcher=fetcher})))},setROIImgFetcher:function setROIImgFetcher(fetcher){set(Object(immer_esm.a)((function(draft){draft.roiImgFetcher=fetcher})))},setFetchModelRes:function setFetchModelRes(res){set(Object(immer_esm.a)((function(draft){var draft1=draft;draft1.fetchModelRes.models=createCoreExtSlice_toConsumableArray(res.models),draft1.fetchModelRes.totalCnt=res.totalCnt})))},fetchModelsWithLabels:(_fetchModelsWithLabels=createCoreExtSlice_asyncToGenerator(regeneratorRuntime.mark((function _callee(pageOffset,queryModelName,queryModelType){var _get,modelListFetcher,modRes,_modRes;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(pageOffset<=0)){_context.next=2;break}return _context.abrupt("return");case 2:if(_get=get(),!(modelListFetcher=_get.modelListFetcher)){_context.next=15;break}if(void 0!==queryModelName){_context.next=11;break}return _context.next=7,modelListFetcher(pageOffset,pageSize,void 0,queryModelType);case 7:modRes=_context.sent,set(Object(immer_esm.a)((function(draft){draft.fetchModelRes=modRes,draft.fetchLoading=!1}))),_context.next=15;break;case 11:return _context.next=13,modelListFetcher(pageOffset,pageSize,queryModelName,queryModelType);case 13:_modRes=_context.sent,set(Object(immer_esm.a)((function(draft){draft.searchModelRes=_modRes,draft.fetchLoading=!1})));case 15:case"end":return _context.stop()}}),_callee)}))),function fetchModelsWithLabels(_x,_x2,_x3){return _fetchModelsWithLabels.apply(this,arguments)}),fetchROIImgURL:(_fetchROIImgURL=createCoreExtSlice_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _get2,roiImgFetcher,roiImg,_res;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_get2=get(),roiImgFetcher=_get2.roiImgFetcher,roiImg=_get2.roiImg,!(roiImgFetcher&&roiImg.width>0&&roiImg.height>0)){_context2.next=8;break}return _context2.next=4,roiImgFetcher(roiImg.width,roiImg.height);case 4:(_res=_context2.sent).url&&set(Object(immer_esm.a)((function(draft){var draft1=draft;draft1.roiImg.url=_res.url,draft1.fetchROIImgLoading=!1}))),_context2.next=9;break;case 8:void 0===roiImgFetcher&&set(Object(immer_esm.a)((function(draft){draft.fetchROIImgLoading=!1})));case 9:case"end":return _context2.stop()}}),_callee2)}))),function fetchROIImgURL(){return _fetchROIImgURL.apply(this,arguments)}),setROIImg:function setROIImg(url,width,height){set(Object(immer_esm.a)((function(draft){var draft1=draft;url&&(draft1.roiImg.url=url),width&&(draft1.roiImg.width=width),height&&(draft1.roiImg.height=height)})))}};var _fetchROIImgURL,_fetchModelsWithLabels},store_createModeSlice=function createModeSlice(set){return{graphEditingDisabled:!0,propEditingDisabled:!1,setGraphEditingDisabled:function setGraphEditingDisabled(disabled){set(Object(immer_esm.a)((function(draft){var draft1=draft;draft.graphEditingDisabled!==disabled&&(draft1.graphEditingDisabled=disabled)})))},setPropEditingDisabled:function setPropEditingDisabled(disabled){set(Object(immer_esm.a)((function(draft){var draft1=draft;draft.propEditingDisabled!==disabled&&(draft1.propEditingDisabled=disabled)})))}}},_createContext=context_default()(),Provider=_createContext.Provider,useStore=_createContext.useStore,useStore_createStore=function createStore(){return zustand_default()((function(set,get){return Object.assign({},store_createCoreSlice(set,get),store_createCoreExtSlice(set,get),store_createModeSlice(set))}))},index_e804ca9d=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index-e804ca9d.js"),HorizontalSplitOutlined=__webpack_require__("./node_modules/@mui/icons-material/HorizontalSplitOutlined.js"),HorizontalSplitOutlined_default=__webpack_require__.n(HorizontalSplitOutlined),RestartAlt=__webpack_require__("./node_modules/@mui/icons-material/RestartAlt.js"),RestartAlt_default=__webpack_require__.n(RestartAlt),ExtendedControls_ExtendedControls=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/ExtendedControls/ExtendedControls.scss"),ExtendedControls_options={insert:"head",singleton:!1},ExtendedControls_ExtendedControls_ExtendedControls=(injectStylesIntoStyleTag_default()(ExtendedControls_ExtendedControls.a,ExtendedControls_options),ExtendedControls_ExtendedControls.a.locals,function ExtendedControls(){var _useStore=useStore((function(state){return{graphEditingDisabled:state.graphEditingDisabled,layoutGraph:state.layoutGraph,resetModuleProps:state.resetModuleProps}}),shallow_default.a),graphEditingDisabled=_useStore.graphEditingDisabled,layoutGraph=_useStore.layoutGraph,resetModuleProps=_useStore.resetModuleProps,onLayout=Object(react.useCallback)((function(){layoutGraph()}),[layoutGraph]),resetProps=Object(react.useCallback)((function(){resetModuleProps()}),[resetModuleProps]);return Object(jsx_runtime.jsxs)("div",{className:"custom-controls",children:[!graphEditingDisabled&&Object(jsx_runtime.jsx)(Tooltip.a,{title:"horizontally layout graph",children:Object(jsx_runtime.jsx)("div",{className:"control-button",children:Object(jsx_runtime.jsx)(HorizontalSplitOutlined_default.a,{className:"control-button-icon",onClick:onLayout})})}),Object(jsx_runtime.jsx)(Tooltip.a,{title:"reset all modules' properties",children:Object(jsx_runtime.jsx)("div",{className:"control-button",children:Object(jsx_runtime.jsx)(RestartAlt_default.a,{className:"control-button-icon",onClick:resetProps})})})]})});ExtendedControls_ExtendedControls_ExtendedControls.displayName="ExtendedControls";var ColorModeContext=Object(react.createContext)({toggleColorMode:function toggleColorMode(){}}),useTheme=__webpack_require__("./node_modules/@mui/material/styles/useTheme.js"),Brightness4=__webpack_require__("./node_modules/@mui/icons-material/Brightness4.js"),Brightness4_default=__webpack_require__.n(Brightness4),Brightness7=__webpack_require__("./node_modules/@mui/icons-material/Brightness7.js"),Brightness7_default=__webpack_require__.n(Brightness7),AppCanvas_AppCanvas=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/AppCanvas/AppCanvas.scss"),AppCanvas_options={insert:"head",singleton:!1},AppCanvasChild_AppCanvasChild=(injectStylesIntoStyleTag_default()(AppCanvas_AppCanvas.a,AppCanvas_options),AppCanvas_AppCanvas.a.locals,function AppCanvasChild(_ref){var hideDarkModeButton=_ref.hideDarkModeButton,defaultValue=_ref.defaultValue,moduleDefinitions=_ref.moduleDefinitions,layoutVertically=_ref.layoutVertically,onLoad=_ref.onLoad,onValueChange=_ref.onValueChange,fetchModelList=_ref.fetchModelList,fetchROIImg=_ref.fetchROIImg,graphEditingDisabled=_ref.graphEditingDisabled,propEditingDisabled=_ref.propEditingDisabled,theme=Object(useTheme.a)(),colorMode=Object(react.useContext)(ColorModeContext),appRef=Object(react.useRef)(null),loadParaRef=Object(react.useRef)(null),_useStore=useStore((function(state){return{value:state.value,rfElements:state.rfElements,setLayoutVer:state.setLayoutVertically,setRfInstance:state.setRfInstance,setModuleDefinitions:state.setModuleDefinitions,setValue:state.setValue,layoutGraph:state.layoutGraph,addModule:state.addModule,addPipeline:state.addPipeline,setGraphEditingDisabled:state.setGraphEditingDisabled,setPropEditingDisabled:state.setPropEditingDisabled,clear:state.clear,resetModuleProps:state.resetModuleProps,setModelListFetcher:state.setModelListFetcher,setROIImgFetcher:state.setROIImgFetcher}}),shallow_default.a),value=_useStore.value,rfElements=_useStore.rfElements,setLayoutVer=_useStore.setLayoutVer,setRfInstance=_useStore.setRfInstance,setModuleDefinitions=_useStore.setModuleDefinitions,setValue=_useStore.setValue,layoutGraph=_useStore.layoutGraph,addModule=_useStore.addModule,addPipeline=_useStore.addPipeline,setGraphEditingDisabled=_useStore.setGraphEditingDisabled,setPropEditingDisabled=_useStore.setPropEditingDisabled,clear=_useStore.clear,resetModuleProps=_useStore.resetModuleProps,setModelListFetcher=_useStore.setModelListFetcher,setROIImgFetcher=_useStore.setROIImgFetcher,fitView=Object(react.useCallback)((function(){loadParaRef.current&&loadParaRef.current.fitView({padding:.01})}),[]),initAppRef=Object(react.useCallback)((function(){null===appRef.current?appRef.current={addModule:addModule,addPipeline:addPipeline,layoutGraph:layoutGraph,fitView:fitView,clear:clear,resetModuleProps:resetModuleProps}:appRef.current.addModule=addModule}),[addModule,addPipeline,layoutGraph,fitView,clear,resetModuleProps]),handleLoaded=Object(react.useCallback)((function(params){params.fitView({padding:.01}),loadParaRef.current=params,setRfInstance(params),layoutGraph(),initAppRef(),onLoad&&appRef.current&&onLoad(appRef.current)}),[layoutGraph,initAppRef,onLoad,setRfInstance]),handleFitView=Object(react.useCallback)((function(){loadParaRef.current&&loadParaRef.current.fitView({padding:.01})}),[]),style=Object(react.useMemo)((function(){return{background:"dark"===theme.palette.mode?"#444444":"#e8eaed"}}),[theme]),rfNodes=Object(react.useMemo)((function(){return rfElements.filter((function(v){return v.id.includes("node")}))}),[rfElements]),rfEdges=Object(react.useMemo)((function(){return rfElements.filter((function(v){return v.id.includes("edge")}))}),[rfElements]);return Object(react.useEffect)((function(){moduleDefinitions&&setModuleDefinitions(moduleDefinitions)}),[setModuleDefinitions,moduleDefinitions]),Object(react.useEffect)((function(){defaultValue&&setValue(defaultValue)}),[setValue,defaultValue]),Object(react.useEffect)((function(){if(onValueChange){var nodesRe=value.nodes.map((function(node){return{id:node.id,type:node.type,name:node.name,runner:node.runner,props:Object.assign({},node.props)}}));onValueChange({version:value.version,pipe:value.pipe,nodes:nodesRe})}}),[value,onValueChange]),Object(react.useEffect)((function(){initAppRef()}),[initAppRef]),Object(react.useEffect)((function(){setGraphEditingDisabled(void 0!==graphEditingDisabled&&graphEditingDisabled)}),[graphEditingDisabled,setGraphEditingDisabled]),Object(react.useEffect)((function(){setPropEditingDisabled(void 0!==propEditingDisabled&&propEditingDisabled)}),[propEditingDisabled,setPropEditingDisabled]),Object(react.useEffect)((function(){setModelListFetcher(fetchModelList)}),[setModelListFetcher,fetchModelList]),Object(react.useEffect)((function(){setROIImgFetcher(fetchROIImg)}),[setROIImgFetcher,fetchROIImg]),Object(react.useEffect)((function(){setLayoutVer(!0===layoutVertically),layoutGraph()}),[layoutVertically]),Object(jsx_runtime.jsx)(esm.b,{children:Object(jsx_runtime.jsxs)(esm.c,{className:theme.palette.mode,style:style,nodes:rfNodes,edges:rfEdges,nodeTypes:rfNodeTypes,edgeTypes:rfEdgeTypes,onInit:handleLoaded,minZoom:.1,nodesDraggable:!graphEditingDisabled,nodesConnectable:!graphEditingDisabled,children:[(!1===hideDarkModeButton||void 0===hideDarkModeButton)&&Object(jsx_runtime.jsx)("div",{className:"togglemode-button",children:Object(jsx_runtime.jsx)(IconButton.a,{size:"small",onClick:colorMode.toggleColorMode,color:"inherit",children:"dark"===theme.palette.mode?Object(jsx_runtime.jsx)(Brightness7_default.a,{}):Object(jsx_runtime.jsx)(Brightness4_default.a,{})})}),Object(jsx_runtime.jsx)(index_e804ca9d.a,{className:theme.palette.mode,showInteractive:!1,onFitView:handleFitView}),Object(jsx_runtime.jsx)(ExtendedControls_ExtendedControls_ExtendedControls,{})]})})});AppCanvasChild_AppCanvasChild.displayName="AppCanvasChild";try{AppCanvasChild_AppCanvasChild.displayName="AppCanvasChild",AppCanvasChild_AppCanvasChild.__docgenInfo={description:"React component to visualize GDDi's AI APPs in flow chart fashion.",displayName:"AppCanvasChild",props:{hideDarkModeButton:{defaultValue:null,description:"Hide the button for toggling dark mode",name:"hideDarkModeButton",required:!1,type:{name:"boolean"}},moduleDefinitions:{defaultValue:null,description:"Object to define different types of modules",name:"moduleDefinitions",required:!0,type:{name:'{ [x: string]: { version: string; description: string; } & { inputs?: { id: number; name: string; }[] | undefined; outputs?: { id: number; name: string; }[] | undefined; props?: { [x: string]: { type: "string" | "number" | "boolean" | "stringArray" | "array"; } & { ...; } & { ...; }; } | undefined; }; }'}},defaultValue:{defaultValue:null,description:"Default value (App pipeline)",name:"defaultValue",required:!1,type:{name:"Pipeline"}},layoutVertically:{defaultValue:null,description:"Layout Nodes Vertically - default false",name:"layoutVertically",required:!1,type:{name:"boolean"}},onLoad:{defaultValue:null,description:"Callback when the AppCanvas get loaded",name:"onLoad",required:!1,type:{name:"((app: AIAppType) => void)"}},onValueChange:{defaultValue:null,description:"Callback when the content (value) of the AppCanvas changed",name:"onValueChange",required:!1,type:{name:"((newValue: Pipeline) => void)"}},fetchModelList:{defaultValue:null,description:"async fetch models\npageNumber start from 1",name:"fetchModelList",required:!1,type:{name:"ModelListFetcher"}},fetchROIImg:{defaultValue:null,description:"async fetch image for drawing ROIs",name:"fetchROIImg",required:!1,type:{name:"ROIImgFetcher"}},graphEditingDisabled:{defaultValue:null,description:"Disable graph editing (adding modules, deleting modules, connect modules, etc.)\nfalse by default",name:"graphEditingDisabled",required:!1,type:{name:"boolean"}},propEditingDisabled:{defaultValue:null,description:"Disable module property editing.\nfalse by default",name:"propEditingDisabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/AppCanvasChild.tsx#AppCanvasChild"]={docgenInfo:AppCanvasChild_AppCanvasChild.__docgenInfo,name:"AppCanvasChild",path:"src/AppCanvas/AppCanvasChild.tsx#AppCanvasChild"})}catch(__react_docgen_typescript_loader_error){}var createTheme=__webpack_require__("./node_modules/@mui/material/styles/createTheme.js"),ThemeProvider=__webpack_require__("./node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js");function AppCanvas_slicedToArray(arr,i){return function AppCanvas_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function AppCanvas_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function AppCanvas_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return AppCanvas_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AppCanvas_arrayLikeToArray(o,minLen)}(arr,i)||function AppCanvas_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AppCanvas_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AppCanvas_AppCanvas_AppCanvas=function AppCanvas(_ref){var dark=_ref.dark,hideDarkModeButton=_ref.hideDarkModeButton,defaultValue=_ref.defaultValue,moduleDefinitions=_ref.moduleDefinitions,layoutVertically=_ref.layoutVertically,onLoad=_ref.onLoad,onValueChange=_ref.onValueChange,fetchModelList=_ref.fetchModelList,fetchROIImg=_ref.fetchROIImg,graphEditingDisabled=_ref.graphEditingDisabled,propEditingDisabled=_ref.propEditingDisabled,_useState2=AppCanvas_slicedToArray(Object(react.useState)("light"),2),mode=_useState2[0],setMode=_useState2[1],colorMode=Object(react.useMemo)((function(){return{toggleColorMode:function toggleColorMode(){setMode((function(prevMode){return"light"===prevMode?"dark":"light"}))}}}),[]),theme=Object(react.useMemo)((function(){return Object(createTheme.a)(function getDesignTokens(mode){return{palette:Object.assign({mode:mode},"light"===mode?{background:{default:"rgb(255, 255, 255)"},text:{primary:"rgb(0, 0, 0)"}}:{background:{default:"#838383"},text:{primary:"#fff"}})}}(mode))}),[mode]);return Object(react.useEffect)((function(){setMode(!0===dark?"dark":"light")}),[dark]),Object(jsx_runtime.jsx)(Provider,{createStore:useStore_createStore,children:Object(jsx_runtime.jsx)(ColorModeContext.Provider,{value:colorMode,children:Object(jsx_runtime.jsx)(ThemeProvider.a,{theme:theme,children:Object(jsx_runtime.jsx)(AppCanvasChild_AppCanvasChild,{defaultValue:defaultValue,hideDarkModeButton:hideDarkModeButton,layoutVertically:layoutVertically,moduleDefinitions:moduleDefinitions,onLoad:onLoad,onValueChange:onValueChange,fetchModelList:fetchModelList,fetchROIImg:fetchROIImg,graphEditingDisabled:graphEditingDisabled,propEditingDisabled:propEditingDisabled})})})})};AppCanvas_AppCanvas_AppCanvas.displayName="AppCanvas";try{AppCanvas_AppCanvas_AppCanvas.displayName="AppCanvas",AppCanvas_AppCanvas_AppCanvas.__docgenInfo={description:"React component to visualize GDDi's AI APPs in flow chart fashion.",displayName:"AppCanvas",props:{dark:{defaultValue:null,description:"Set dark theme when component loaded",name:"dark",required:!1,type:{name:"boolean"}},hideDarkModeButton:{defaultValue:null,description:"Hide the button for toggling dark mode",name:"hideDarkModeButton",required:!1,type:{name:"boolean"}},moduleDefinitions:{defaultValue:null,description:"Object to define different types of modules",name:"moduleDefinitions",required:!0,type:{name:'{ [x: string]: { version: string; description: string; } & { inputs?: { id: number; name: string; }[] | undefined; outputs?: { id: number; name: string; }[] | undefined; props?: { [x: string]: { type: "string" | "number" | "boolean" | "stringArray" | "array"; } & { ...; } & { ...; }; } | undefined; }; }'}},defaultValue:{defaultValue:null,description:"Default value (App pipeline)",name:"defaultValue",required:!1,type:{name:"Pipeline"}},layoutVertically:{defaultValue:null,description:"Layout Nodes Vertically - default false",name:"layoutVertically",required:!1,type:{name:"boolean"}},onLoad:{defaultValue:null,description:"Callback when the AppCanvas get loaded",name:"onLoad",required:!1,type:{name:"((app: AIAppType) => void)"}},onValueChange:{defaultValue:null,description:"Callback when the content (value) of the AppCanvas changed",name:"onValueChange",required:!1,type:{name:"((newValue: Pipeline) => void)"}},fetchModelList:{defaultValue:null,description:"async fetch models",name:"fetchModelList",required:!1,type:{name:"ModelListFetcher"}},fetchROIImg:{defaultValue:null,description:"async fetch image for drawing ROIs",name:"fetchROIImg",required:!1,type:{name:"ROIImgFetcher"}},graphEditingDisabled:{defaultValue:null,description:"Disable graph editing (adding modules, deleting modules, connect modules, etc.)\nfalse by default",name:"graphEditingDisabled",required:!1,type:{name:"boolean"}},propEditingDisabled:{defaultValue:null,description:"Disable module property editing.\nfalse by default",name:"propEditingDisabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AppCanvas/AppCanvas.tsx#AppCanvas"]={docgenInfo:AppCanvas_AppCanvas_AppCanvas.__docgenInfo,name:"AppCanvas",path:"src/AppCanvas/AppCanvas.tsx#AppCanvas"})}catch(__react_docgen_typescript_loader_error){}},"./src/AppCanvas/helpers/utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getParsedData}));__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var io_ts_lib_PathReporter__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/io-ts/lib/PathReporter.js"),fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/fp-ts/lib/Either.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var ValidationError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ValidationError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(ValidationError);function ValidationError(errors){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ValidationError);var errorMessage=errors.join(",\n");return _super.call(this,errorMessage)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ValidationError)}(_wrapNativeSuper(Error)),getParsedData=function getParsedData(rawData,codec){var result=codec.decode(rawData);if(Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_16__.isLeft)(result))throw new ValidationError(io_ts_lib_PathReporter__WEBPACK_IMPORTED_MODULE_15__.PathReporter.report(result));return result.right}},"./src/AppCanvas/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/AppCanvas/types/index.ts");__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"AppCanvas")&&__webpack_require__.d(__webpack_exports__,"AppCanvas",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.AppCanvas})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"tModuleDefinitions")&&__webpack_require__.d(__webpack_exports__,"tModuleDefinitions",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.tModuleDefinitions}));var _AppCanvas__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/AppCanvas/AppCanvas.tsx");__webpack_require__.d(__webpack_exports__,"AppCanvas",(function(){return _AppCanvas__WEBPACK_IMPORTED_MODULE_1__.a}));var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/AppCanvas/helpers/utils.ts");__webpack_require__.d(__webpack_exports__,"getParsedData",(function(){return _helpers_utils__WEBPACK_IMPORTED_MODULE_2__.a}))},"./src/AppCanvas/types/appInstance.ts":function(module,__webpack_exports__,__webpack_require__){},"./src/AppCanvas/types/extra.ts":function(module,__webpack_exports__,__webpack_require__){},"./src/AppCanvas/types/fetch.ts":function(module,exports){},"./src/AppCanvas/types/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./src/AppCanvas/types/extra.ts");var _modelDefinitions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/AppCanvas/types/modelDefinitions.ts");__webpack_require__.d(__webpack_exports__,"tModuleDefinitions",(function(){return _modelDefinitions__WEBPACK_IMPORTED_MODULE_1__.a}));var _pipeline__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/AppCanvas/types/pipeline.ts");__webpack_require__.o(_pipeline__WEBPACK_IMPORTED_MODULE_2__,"AppCanvas")&&__webpack_require__.d(__webpack_exports__,"AppCanvas",(function(){return _pipeline__WEBPACK_IMPORTED_MODULE_2__.AppCanvas}));__webpack_require__("./src/AppCanvas/types/appInstance.ts");var _fetch__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/AppCanvas/types/fetch.ts");__webpack_require__.o(_fetch__WEBPACK_IMPORTED_MODULE_4__,"AppCanvas")&&__webpack_require__.d(__webpack_exports__,"AppCanvas",(function(){return _fetch__WEBPACK_IMPORTED_MODULE_4__.AppCanvas}))},"./src/AppCanvas/types/modelDefinitions.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return tModuleDefinitions}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/io-ts/es6/index.js"),tEndpoint=io_ts__WEBPACK_IMPORTED_MODULE_0__.i({id:io_ts__WEBPACK_IMPORTED_MODULE_0__.e,name:io_ts__WEBPACK_IMPORTED_MODULE_0__.h}),tVisibilityAndReadonly=io_ts__WEBPACK_IMPORTED_MODULE_0__.j([io_ts__WEBPACK_IMPORTED_MODULE_0__.d("visible_editable"),io_ts__WEBPACK_IMPORTED_MODULE_0__.d("visible_readonly"),io_ts__WEBPACK_IMPORTED_MODULE_0__.d("invisible")]),tBasicTypeName=io_ts__WEBPACK_IMPORTED_MODULE_0__.j([io_ts__WEBPACK_IMPORTED_MODULE_0__.d("string"),io_ts__WEBPACK_IMPORTED_MODULE_0__.d("boolean"),io_ts__WEBPACK_IMPORTED_MODULE_0__.d("number")]),tBasicType=io_ts__WEBPACK_IMPORTED_MODULE_0__.j([io_ts__WEBPACK_IMPORTED_MODULE_0__.h,io_ts__WEBPACK_IMPORTED_MODULE_0__.b,io_ts__WEBPACK_IMPORTED_MODULE_0__.e]),tPropDefBasic=io_ts__WEBPACK_IMPORTED_MODULE_0__.i({type:io_ts__WEBPACK_IMPORTED_MODULE_0__.j([tBasicTypeName,io_ts__WEBPACK_IMPORTED_MODULE_0__.d("stringArray"),io_ts__WEBPACK_IMPORTED_MODULE_0__.d("array")])}),tSimplePropDefinition=io_ts__WEBPACK_IMPORTED_MODULE_0__.c([tPropDefBasic,io_ts__WEBPACK_IMPORTED_MODULE_0__.f({label:io_ts__WEBPACK_IMPORTED_MODULE_0__.h,description:io_ts__WEBPACK_IMPORTED_MODULE_0__.h,default:io_ts__WEBPACK_IMPORTED_MODULE_0__.j([tBasicType,io_ts__WEBPACK_IMPORTED_MODULE_0__.a(tBasicType)]),maximum:io_ts__WEBPACK_IMPORTED_MODULE_0__.e,minimum:io_ts__WEBPACK_IMPORTED_MODULE_0__.e,enum:io_ts__WEBPACK_IMPORTED_MODULE_0__.a(tBasicType),visibility_and_readonly:tVisibilityAndReadonly})]),tROIPropDefinition=io_ts__WEBPACK_IMPORTED_MODULE_0__.c([tPropDefBasic,io_ts__WEBPACK_IMPORTED_MODULE_0__.f({description:io_ts__WEBPACK_IMPORTED_MODULE_0__.h,minDimension:io_ts__WEBPACK_IMPORTED_MODULE_0__.e,maxDimension:io_ts__WEBPACK_IMPORTED_MODULE_0__.e})]),tPropDefinitionType=io_ts__WEBPACK_IMPORTED_MODULE_0__.c([tSimplePropDefinition,tROIPropDefinition]),tPropDefinitionObject=io_ts__WEBPACK_IMPORTED_MODULE_0__.g(io_ts__WEBPACK_IMPORTED_MODULE_0__.h,tPropDefinitionType),tModuleDefinition=io_ts__WEBPACK_IMPORTED_MODULE_0__.c([io_ts__WEBPACK_IMPORTED_MODULE_0__.i({version:io_ts__WEBPACK_IMPORTED_MODULE_0__.h,description:io_ts__WEBPACK_IMPORTED_MODULE_0__.h}),io_ts__WEBPACK_IMPORTED_MODULE_0__.f({inputs:io_ts__WEBPACK_IMPORTED_MODULE_0__.a(tEndpoint),outputs:io_ts__WEBPACK_IMPORTED_MODULE_0__.a(tEndpoint),props:tPropDefinitionObject})]),tModuleDefinitions=io_ts__WEBPACK_IMPORTED_MODULE_0__.g(io_ts__WEBPACK_IMPORTED_MODULE_0__.h,tModuleDefinition)},"./src/AppCanvas/types/pipeline.ts":function(module,exports){},"./src/stories/AddThings.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@mui/material/Button/Button.js"),__webpack_require__("./node_modules/@mui/material/Tabs/Tabs.js"),__webpack_require__("./node_modules/@mui/material/Tab/Tab.js");var AppCanvas=__webpack_require__("./src/AppCanvas/index.ts"),pipeline3=(__webpack_require__("./src/stories/components/index.ts"),__webpack_require__("./src/stories/datav2/pipeline3.json"));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date;var labels1={labels:["cat","dog","panda","horse"]},labels2={labels:["lucy","tom","lily","almond","black","daisy","clark","rosenburg","alexander the great"]},labels3={labels:["twinkle","little star","wish","milky","molly"]},labels4={labels:["pat","shawn the sheep"]},injectStylesIntoStyleTag=([].concat(_toConsumableArray(labels4.labels),_toConsumableArray(labels2.labels)),[].concat(_toConsumableArray(labels4.labels),_toConsumableArray(labels2.labels)),__webpack_require__("./node_modules/@mui/material/Radio/Radio.js"),__webpack_require__("./node_modules/@mui/material/RadioGroup/RadioGroup.js"),__webpack_require__("./node_modules/@mui/material/FormControlLabel/FormControlLabel.js"),__webpack_require__("./node_modules/@mui/material/FormControl/FormControl.js"),__webpack_require__("./node_modules/@mui/material/FormLabel/FormLabel.js"),__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),AddThings=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/stories/AddThings.scss"),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(AddThings.a,options),AddThings.a.locals,__webpack_require__("./node_modules/react/jsx-runtime.js");pipeline3.nodes.map((function(node){return node})),pipeline3.pipe.map((function(p){return p})),__webpack_exports__.default={title:"Example/AppCanvas",component:AppCanvas.AppCanvas,parameters:{docs:{source:{type:"code"},description:{component:"AppCanvas is a react component to visualize GDDi's AI APPs in flow chart fashion.\nUsage:\n1. Add Module (node)\n2. Add Template (pipeline)\n3. Get Current Pipeline Value"}}}}},"./src/stories/Basic.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicUsage",(function(){return BasicUsage}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),AppCanvas=__webpack_require__("./src/AppCanvas/index.ts"),components=__webpack_require__("./src/stories/components/index.ts"),md3={Demuxer_v2:{version:"null",description:"",outputs:[{id:0,name:"output_0"},{id:1,name:"output_1"}]},Decoder_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"},{id:1,name:"input_1"}],outputs:[{id:0,name:"output_0"},{id:1,name:"output_1"}]},AvToCv_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}]},DetectionModel_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}],props:{accelerate:{type:"string",visibility_and_readonly:"invisible"},labels:{type:"stringArray",visibility_and_readonly:"invisible"},best_threshold:{type:"number",visibility_and_readonly:"invisible"},mod_created_at:{type:"string",visibility_and_readonly:"visible_readonly"}}},ClassificationModel_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}]},PoseModel_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}]},Tracking_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}]},Graphics_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}]},Report_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}]},Bridge_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}],props:{enable:{type:"boolean",label:"",description:""}}},VideoEncode_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],props:{output_stream_url:{type:"string"}}},ROI_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}],props:{regions:{type:"array",label:"ROI",description:"ROIROI -- [topX, topY, width, height]",visibility_and_readonly:"invisible"},dinner:{type:"string",label:"",description:""}}},BoxFilter_v2:{version:"null",description:"",inputs:[{id:0,name:"input_0"}],outputs:[{id:0,name:"output_0"}],props:{box_labels1:{type:"stringArray",label:"1",enum:["blue","red","orange"],default:["blue"]},min_width:{type:"number",label:"",description:""},box_prob:{type:"number",label:""},min_height:{type:"number",label:"",description:"zhehong"}}}},pipeline5=__webpack_require__("./src/stories/datav2/pipeline5.json"),labels1=(__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),["cat","dog","panda","horse"]),labels2=["lucy","tom","lily","almond","black","daisy","clark","rosenburg","alexander the great"],labels4=["pat","shawn the sheep"],fetchModelResult={models:[{mod_id:"0",mod_iter_id:"fe033",mod_name:"",mod_created_at:new Date,mod_version:"1.2",mod_version_id:"1",mod_license:"",mod_result_id:"033",accelerate:"GPU",labels:labels1,best_threshold:.2},{mod_id:"0",mod_iter_id:"fe133",mod_name:"",mod_created_at:new Date,mod_version:"1.2",mod_version_id:"1",mod_license:"",mod_result_id:"133",accelerate:"NPU",labels:labels2,best_threshold:.23},{mod_id:"0",mod_iter_id:"fe233",mod_name:"",mod_created_at:new Date,mod_version:"1.2.1",mod_version_id:"1",mod_license:"MIT",mod_result_id:"233",accelerate:"NPU",labels:["twinkle","little star","wish","milky","molly"],best_threshold:.33},{mod_id:"0",mod_iter_id:"fe333",mod_name:"",mod_created_at:new Date,mod_version:"1.12",mod_version_id:"1",mod_license:"",mod_result_id:"333",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"4",mod_iter_id:"fe433",mod_name:"",mod_created_at:new Date,mod_version:"2.2",mod_version_id:"1",mod_license:"",mod_result_id:"433",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"5",mod_iter_id:"fe533",mod_name:"",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"533",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"6",mod_iter_id:"fe633",mod_name:"",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"633",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"7",mod_iter_id:"fe733",mod_name:"",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"733",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"8",mod_iter_id:"fe833",mod_name:"",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"833",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"9",mod_iter_id:"fe933",mod_name:"",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"933",accelerate:"GPU",labels:labels2,best_threshold:.5},{mod_id:"10",mod_iter_id:"fe1033",mod_name:"",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"1033",accelerate:"GPU",labels:labels1,best_threshold:.5}],totalCnt:11},fetchModelResult2={models:[{mod_id:"0",mod_iter_id:"fe033",mod_name:"1",mod_created_at:new Date,mod_version:"1.2",mod_version_id:"1",mod_license:"",mod_result_id:"033",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"0",mod_iter_id:"fe133",mod_name:"2",mod_created_at:new Date,mod_version:"1.2",mod_version_id:"1",mod_license:"",mod_result_id:"133",accelerate:"GPU",labels:labels2,best_threshold:.1},{mod_id:"0",mod_iter_id:"fe233",mod_name:"3",mod_created_at:new Date,mod_version:"1.2.1",mod_version_id:"1",mod_license:"MIT",mod_result_id:"233",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"0",mod_iter_id:"fe333",mod_name:"4",mod_created_at:new Date,mod_version:"1.12",mod_version_id:"1",mod_license:"",mod_result_id:"333",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"4",mod_iter_id:"fe433",mod_name:"5",mod_created_at:new Date,mod_version:"2.2",mod_version_id:"1",mod_license:"",mod_result_id:"433",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"5",mod_iter_id:"fe533",mod_name:"6",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"533",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"6",mod_iter_id:"fe633",mod_name:"7",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"633",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"7",mod_iter_id:"fe733",mod_name:"8",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"733",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"8",mod_iter_id:"fe833",mod_name:"9",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"833",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"9",mod_iter_id:"fe933",mod_name:"10",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"933",accelerate:"GPU",labels:labels4,best_threshold:.5},{mod_id:"10",mod_iter_id:"fe1033",mod_name:"11",mod_created_at:new Date,mod_version:"3.2",mod_version_id:"1",mod_license:"",mod_result_id:"1033",accelerate:"GPU",labels:labels4,best_threshold:.5}],totalCnt:11},es=__webpack_require__("./node_modules/@monaco-editor/react/lib/es/index.js"),Tabs=__webpack_require__("./node_modules/@mui/material/Tabs/Tabs.js"),Tab=__webpack_require__("./node_modules/@mui/material/Tab/Tab.js"),Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),Alert=__webpack_require__("./node_modules/@mui/material/Alert/Alert.js"),AlertTitle=__webpack_require__("./node_modules/@mui/material/AlertTitle/AlertTitle.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var myPipeline={version:"0.0.1",nodes:pipeline5.nodes.map((function(node){return node})),pipe:pipeline5.pipe.map((function(p){return p}))},BasicUsage=(__webpack_exports__.default={title:"Example/AppCanvas",component:AppCanvas.AppCanvas},function Template(args){var _useState2=_slicedToArray(Object(react.useState)(0),2),tabVal=_useState2[0],setTabVal=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(myPipeline),2),defaultPpVal=_useState4[0],setDefaultPpVal=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(myPipeline),2),pipelineVal=_useState6[0],setPipelineVal=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(JSON.stringify(pipelineVal,null,"\t")),2),pipelineEditStr=_useState8[0],setPipelineEditStr=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(md3),2),modDef=_useState10[0],setModDef=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(JSON.stringify(modDef,null,"\t")),2),modDefEditStr=_useState12[0],setModDefEditStr=_useState12[1],_useState14=_slicedToArray(Object(react.useState)(),2),saveMDErrorMsg=_useState14[0],setSaveMDErrorMsg=_useState14[1],_useState16=_slicedToArray(Object(react.useState)(),2),savePipelineErrorMsg=_useState16[0],setSavePipelineErrorMsg=_useState16[1],handleTabChange=Object(react.useCallback)((function(event,newValue){setTabVal(newValue),setDefaultPpVal(pipelineVal),1===newValue&&setSavePipelineErrorMsg(void 0),2===newValue&&setSaveMDErrorMsg(void 0)}),[pipelineVal,setDefaultPpVal]),handlePipelineEditorChange=Object(react.useCallback)((function(newVal,event){console.log("[Pipeline Editor onChange]"),setPipelineEditStr(newVal)}),[setPipelineEditStr]),handlePipelineSave=Object(react.useCallback)((function(){console.log("[Pipeline Editor onSave]");try{var p0=JSON.parse(pipelineEditStr);setPipelineVal(p0)}catch(error){throw console.error(error),setSavePipelineErrorMsg(error.message),error}}),[pipelineEditStr,setPipelineVal,setSavePipelineErrorMsg]),handlePipelineEditorValidation=Object(react.useCallback)((function(markers){console.log("[Pipeline Editor onValidation]"),markers.forEach((function(marker){return console.log("onValidate:",marker.message)}))}),[]),handleValueChange=Object(react.useCallback)((function(val){console.log("  value changed!"),console.log(val),setPipelineVal(val)}),[setPipelineVal]),handleMDEditorChange=Object(react.useCallback)((function(newVal,event){console.log("[Model Definition Editor onChange]"),setModDefEditStr(newVal)}),[setModDefEditStr]),handleMDEditorSave=Object(react.useCallback)((function(){console.log("[Model Definition Editor onSave]");try{var modDef0=JSON.parse(modDefEditStr),modDef1=Object(AppCanvas.getParsedData)(modDef0,AppCanvas.tModuleDefinitions);setModDef(modDef1)}catch(error){throw console.error(error),setSaveMDErrorMsg(error.message),error}}),[modDefEditStr,setModDef,setSaveMDErrorMsg]),pipelineStr=Object(react.useMemo)((function(){return JSON.stringify(pipelineVal,null,"\t")}),[pipelineVal]),modDefStr=Object(react.useMemo)((function(){return JSON.stringify(modDef,null,"\t")}),[modDef]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Tabs.a,{value:tabVal,onChange:handleTabChange,"aria-label":"pipeline-vs-tab",children:[Object(jsx_runtime.jsx)(Tab.a,{label:"Visualization"}),Object(jsx_runtime.jsx)(Tab.a,{label:"Pipeline Value"}),Object(jsx_runtime.jsx)(Tab.a,{label:"Model Definitions Config ()"})]}),Object(jsx_runtime.jsx)(components.a,{value:tabVal,index:0,children:Object(jsx_runtime.jsx)("div",{className:"app-canvas-wrapper",style:{width:"1000px",height:"500px"},children:Object(jsx_runtime.jsx)(AppCanvas.AppCanvas,Object.assign({},args,{defaultValue:defaultPpVal,moduleDefinitions:modDef,onValueChange:handleValueChange}))})}),Object(jsx_runtime.jsx)(components.a,{value:tabVal,index:1,children:Object(jsx_runtime.jsxs)("div",{style:{width:"1000px",height:"600px",display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)(es.a,{height:"80%",defaultLanguage:"json",defaultValue:pipelineStr,onChange:handlePipelineEditorChange,onValidate:handlePipelineEditorValidation}),Object(jsx_runtime.jsx)("div",{style:{display:"flex",width:"100%",marginTop:"2rem"},children:Object(jsx_runtime.jsx)(Button.a,{variant:"contained",onClick:handlePipelineSave,children:"Save Changes"})}),Object(jsx_runtime.jsx)("div",{style:{display:"flex",width:"100%",marginTop:"1rem"},children:savePipelineErrorMsg&&Object(jsx_runtime.jsxs)(Alert.a,{severity:"error",children:[Object(jsx_runtime.jsx)(AlertTitle.a,{children:"Error Saving Pipeline"}),savePipelineErrorMsg]})})]})}),Object(jsx_runtime.jsx)(components.a,{value:tabVal,index:2,children:Object(jsx_runtime.jsxs)("div",{className:"row app-canvas-wrapper",style:{width:"1000px",height:"600px"},children:[Object(jsx_runtime.jsx)(es.a,{height:"80%",defaultLanguage:"json",defaultValue:modDefStr,onChange:handleMDEditorChange}),Object(jsx_runtime.jsx)("div",{style:{display:"flex",width:"100%",marginTop:"2rem"},children:Object(jsx_runtime.jsx)(Button.a,{variant:"contained",onClick:handleMDEditorSave,children:"Save Changes"})}),Object(jsx_runtime.jsx)("div",{style:{display:"flex",width:"100%",marginTop:"1rem"},children:saveMDErrorMsg&&Object(jsx_runtime.jsxs)(Alert.a,{severity:"error",children:[Object(jsx_runtime.jsx)(AlertTitle.a,{children:"Error Saving Model Definitions"}),saveMDErrorMsg]})})]})})]})}.bind({}));BasicUsage.args={dark:!1,hideDarkModeButton:!1,graphEditingDisabled:!0,onLoad:function handleCanvasLoad(canvas){console.log(" AppCanvas loaded"),canvas.layoutGraph()},fetchModelList:function fetchModelList(page,pageSize,queryModelName,queryModelType){return new Promise((function(resolve,reject){setTimeout((function(){var models=fetchModelResult.models,totalCnt=fetchModelResult.totalCnt;if("classification"===queryModelType&&(models=fetchModelResult2.models,totalCnt=fetchModelResult2.totalCnt),console.log("[story - fetcher] "+queryModelType),void 0===queryModelName||""===queryModelName)resolve({models:models.slice(pageSize*(page-1),pageSize*page),totalCnt:totalCnt});else{var searchRes=models.filter((function(mod){return mod.mod_name.includes(queryModelName)}));resolve({models:searchRes.slice(pageSize*(page-1),pageSize*page),totalCnt:searchRes.length})}}),2e3)}))},fetchROIImg:function fetchROIImg(width,height){return new Promise((function(resolve,reject){setTimeout((function(){resolve({url:"https://place-puppy.com/"+width+"x"+height})}),1100)}))}},BasicUsage.storyName="Demo",BasicUsage.parameters=Object.assign({storySource:{source:"(args) => {\n  const [tabVal, setTabVal] = useState<number>(0)\n  const [defaultPpVal, setDefaultPpVal] = useState<Pipeline>(myPipeline)\n  const [pipelineVal, setPipelineVal] = useState<Pipeline>(myPipeline)\n  const [pipelineEditStr, setPipelineEditStr] = useState<string>(\n    JSON.stringify(pipelineVal, null, '\\t')\n  )\n  const [modDef, setModDef] = useState<ModuleDefinitions>(md3)\n  const [modDefEditStr, setModDefEditStr] = useState<string>(\n    JSON.stringify(modDef, null, '\\t')\n  )\n  const [saveMDErrorMsg, setSaveMDErrorMsg] = useState<string | undefined>()\n  const [savePipelineErrorMsg, setSavePipelineErrorMsg] = useState<\n    string | undefined\n  >()\n\n  const handleTabChange = useCallback(\n    (event: React.SyntheticEvent, newValue: number) => {\n      setTabVal(newValue)\n      // when switching tab -- update the default value of the AppCanvas\n      setDefaultPpVal(pipelineVal)\n      if (newValue === 1) {\n        setSavePipelineErrorMsg(undefined)\n      }\n      if (newValue === 2) {\n        setSaveMDErrorMsg(undefined)\n      }\n    },\n    [pipelineVal, setDefaultPpVal]\n  )\n\n  const handlePipelineEditorChange = useCallback(\n    (newVal, event) => {\n      console.log(`[Pipeline Editor onChange]`)\n      setPipelineEditStr(newVal)\n    },\n    [setPipelineEditStr]\n  )\n\n  const handlePipelineSave = useCallback(() => {\n    console.log(`[Pipeline Editor onSave]`)\n    try {\n      const p0 = JSON.parse(pipelineEditStr)\n      setPipelineVal(p0)\n    } catch (error) {\n      console.error(error)\n      setSavePipelineErrorMsg(error.message)\n      throw error\n    }\n  }, [pipelineEditStr, setPipelineVal, setSavePipelineErrorMsg])\n\n  const handlePipelineEditorValidation = useCallback((markers) => {\n    // model markers\n    console.log(`[Pipeline Editor onValidation]`)\n    markers.forEach((marker) => console.log('onValidate:', marker.message))\n  }, [])\n\n  const handleValueChange = useCallback(\n    (val: Pipeline): void => {\n      console.log(`  value changed!`)\n      console.log(val)\n      setPipelineVal(val)\n    },\n    [setPipelineVal]\n  )\n\n  const handleMDEditorChange = useCallback(\n    (newVal, event) => {\n      console.log(`[Model Definition Editor onChange]`)\n      setModDefEditStr(newVal)\n    },\n    [setModDefEditStr]\n  )\n\n  const handleMDEditorSave = useCallback(() => {\n    console.log(`[Model Definition Editor onSave]`)\n    try {\n      const modDef0 = JSON.parse(modDefEditStr)\n      const modDef1 = getParsedData(modDef0, tModuleDefinitions)\n      setModDef(modDef1)\n    } catch (error) {\n      console.error(error)\n      setSaveMDErrorMsg(error.message)\n      throw error\n    }\n  }, [modDefEditStr, setModDef, setSaveMDErrorMsg])\n\n  const pipelineStr = useMemo(\n    () => JSON.stringify(pipelineVal, null, '\\t'),\n    [pipelineVal]\n  )\n\n  const modDefStr = useMemo(() => JSON.stringify(modDef, null, '\\t'), [modDef])\n\n  return (\n    <>\n      <Tabs\n        value={tabVal}\n        onChange={handleTabChange}\n        aria-label=\"pipeline-vs-tab\"\n      >\n        <Tab label=\"Visualization\" />\n        <Tab label=\"Pipeline Value\" />\n        <Tab label=\"Model Definitions Config ()\" />\n      </Tabs>\n      <TabPanel value={tabVal} index={0}>\n        <div\n          className=\"app-canvas-wrapper\"\n          style={{ width: '1000px', height: '500px' }}\n        >\n          <AppCanvas\n            {...args}\n            defaultValue={defaultPpVal}\n            moduleDefinitions={modDef}\n            onValueChange={handleValueChange}\n          />\n        </div>\n      </TabPanel>\n      <TabPanel value={tabVal} index={1}>\n        <div\n          style={{\n            width: '1000px',\n            height: '600px',\n            display: 'flex',\n            flexDirection: 'column'\n          }}\n        >\n          <Editor\n            height=\"80%\"\n            defaultLanguage=\"json\"\n            defaultValue={pipelineStr}\n            onChange={handlePipelineEditorChange}\n            onValidate={handlePipelineEditorValidation}\n          />\n          <div style={{ display: 'flex', width: '100%', marginTop: '2rem' }}>\n            <Button variant=\"contained\" onClick={handlePipelineSave}>\n              Save Changes\n            </Button>\n          </div>\n          <div style={{ display: 'flex', width: '100%', marginTop: '1rem' }}>\n            {savePipelineErrorMsg && (\n              <Alert severity=\"error\">\n                <AlertTitle>Error Saving Pipeline</AlertTitle>\n                {savePipelineErrorMsg}\n              </Alert>\n            )}\n          </div>\n        </div>\n      </TabPanel>\n      <TabPanel value={tabVal} index={2}>\n        <div\n          className=\"row app-canvas-wrapper\"\n          style={{ width: '1000px', height: '600px' }}\n        >\n          <Editor\n            height=\"80%\"\n            defaultLanguage=\"json\"\n            defaultValue={modDefStr}\n            onChange={handleMDEditorChange}\n          />\n          <div style={{ display: 'flex', width: '100%', marginTop: '2rem' }}>\n            <Button variant=\"contained\" onClick={handleMDEditorSave}>\n              Save Changes\n            </Button>\n          </div>\n          <div style={{ display: 'flex', width: '100%', marginTop: '1rem' }}>\n            {saveMDErrorMsg && (\n              <Alert severity=\"error\">\n                <AlertTitle>Error Saving Model Definitions</AlertTitle>\n                {saveMDErrorMsg}\n              </Alert>\n            )}\n          </div>\n        </div>\n      </TabPanel>\n    </>\n  )\n}"}},BasicUsage.parameters)},"./src/stories/components/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TabPanel_TabPanel}));__webpack_require__("./node_modules/react/index.js");var Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TabPanel_TabPanel=function TabPanel(_ref){var index=_ref.index,value=_ref.value,children=_ref.children;return Object(jsx_runtime.jsx)("div",{role:"tabpanel",hidden:value!==index,id:"simple-tabpanel-"+index,"aria-labelledby":"simple-tab-"+index,children:value===index&&Object(jsx_runtime.jsx)(Box.a,{sx:{p:3},children:Object(jsx_runtime.jsx)(Box.a,{children:children})})})};TabPanel_TabPanel.displayName="TabPanel";try{TabPanel_TabPanel.displayName="TabPanel",TabPanel_TabPanel.__docgenInfo={description:"",displayName:"TabPanel",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/components/TabPanel.tsx#TabPanel"]={docgenInfo:TabPanel_TabPanel.__docgenInfo,name:"TabPanel",path:"src/stories/components/TabPanel.tsx#TabPanel"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/datav2/pipeline3.json":function(module){module.exports=JSON.parse('{"version":"v0","nodes":[{"id":0,"type":"Demuxer_v2","name":"Demuxer_v2_0","runner":"Decoder_v2_1","props":{"stream_url":""}},{"id":1,"type":"Decoder_v2","name":"Decoder_v2_1","runner":"Decoder_v2_1","props":{"hw_type":2}},{"id":2,"type":"AvToCv_v2","name":"AvToCv_v2_2","runner":"default"},{"id":3,"type":"Detection_v2","name":"Detection_v2_3","runner":"Detection","props":{"mod_id":233,"mod_iter_id":0,"mod_license":"","mod_name":"--v0.0.1-","conf_path":"","mod_path":"","mod_labels":{"reflective_vest":{"checked":false,"label":"reflective_vest","color":[0,255,0]},"normal_clothes":{"checked":true,"label":"Non_reflective_vest","color":[0,0,255]},"chef_clothes":{"checked":true,"label":"Non_reflective_vest","color":[0,0,255]}},"mod_result_id":694,"mod_version":"--v0.0.1-","mod_created_at":"Wed Jan 26 2022 16:53:14 GMT+0800 (China Standard Time)"}},{"id":4,"type":"ROI_v2","name":"ROI_v2_4","runner":"default","props":{"regions":[[[0.14703369140625,0.16278211805555556],[0.07437744140625,0.2613932291666667],[0.19468994140625,0.36139322916666666],[0.24312744140625,0.25028211805555556],[0.22359619140625,0.16417100694444445],[0.17906494140625,0.25028211805555556]],[[0.30484619140625,0.15861545138888888],[0.21890869140625,0.3308376736111111],[0.29547119140625,0.36278211805555555],[0.37125244140625,0.36278211805555555],[0.37047119140625,0.2613932291666667]]]}},{"id":5,"type":"Tracking_v2","name":"Tracking_v2_5","runner":"default"},{"id":6,"type":"Graphics_v2","name":"Graphics_v2_6","runner":"Graphics","props":{"ttf_file":"/home/ttf/NotoSans-Regular.ttf"}},{"id":7,"type":"Report_v2","name":"Report_v2_7","runner":"Report","props":{"report_url":"","save_raw":true}},{"id":8,"type":"Bridge_v2","name":"Bridge_v2_8","runner":"Brigde","props":{"enable":false}},{"id":9,"type":"VideoEncode_v2","name":"VideoEncode_v2_9","runner":"Brigde","props":{"output_stream_url":""}}],"pipe":[[0,0,1,0],[0,1,1,1],[1,1,2,0],[2,0,3,0],[3,0,4,0],[4,0,5,0],[5,0,6,0],[6,0,7,0],[4,0,8,0],[8,0,9,0]]}')},"./src/stories/datav2/pipeline5.json":function(module){module.exports=JSON.parse('{"version":"v0","nodes":[{"id":0,"type":"Demuxer_v2","name":"Demuxer_v2_0","runner":"Decoder_v2_1","props":{"stream_url":""}},{"id":1,"type":"Decoder_v2","name":"Decoder_v2_1","runner":"Decoder_v2_1","props":{"hw_type":2}},{"id":2,"type":"AvToCv_v2","name":"AvToCv_v2_2","runner":"default"},{"id":3,"type":"DetectionModel_v2","name":"","runner":"Detection","props":{"mod_iter_id":"fe133","mod_labels":{"lucy":{"label":"lucy","checked":true,"color":[191,219,50]},"tom":{"label":"tom","checked":true,"color":[255,255,0]},"lily":{"label":"lily","checked":true,"color":[202,175,50]},"almond":{"label":"almond","checked":true,"color":[131,57,171]},"black":{"label":"black","checked":true,"color":[255,143,151]},"daisy":{"label":"daisy","checked":true,"color":[242,222,174]},"clark":{"label":"clark","checked":true,"color":[81,169,165]},"rosenburg":{"label":"rosenburg","checked":true,"color":[71,99,30]},"alexander the great":{"label":"alexander the great","checked":true,"color":[255,255,0]}},"mod_id":"0","mod_name":"","mod_created_at":"2022-04-22T07:23:29.392Z","mod_version":"1.2","mod_version_id":"1","mod_license":"","mod_result_id":"133"}},{"id":11,"type":"ClassificationModel_v2","name":"","runner":"Classification","props":{"mod_iter_id":"112","mod_labels":{"aa":{},"bb":{"checked":true}}}},{"id":12,"type":"PoseModel_v2","name":"","runner":"default","props":{"mod_iter_id":"113","mod_labels":{"aa":{},"bb":{"checked":true}}}},{"id":4,"type":"ROI_v2","name":"ROI","runner":"default","props":{"dinner":"","regions":[[[0.14703369140625,0.16278211805555556],[0.07437744140625,0.2613932291666667],[0.19468994140625,0.36139322916666666],[0.24312744140625,0.25028211805555556],[0.22359619140625,0.16417100694444445],[0.17906494140625,0.25028211805555556]],[[0.30484619140625,0.15861545138888888],[0.21890869140625,0.3308376736111111],[0.29547119140625,0.36278211805555555],[0.37125244140625,0.36278211805555555],[0.37047119140625,0.2613932291666667]]]}},{"id":5,"type":"Tracking_v2","name":"Tracking_v2_5","runner":"default"},{"id":6,"type":"Graphics_v2","name":"Graphics_v2_6","runner":"Graphics","props":{"ttf_file":"/home/ttf/NotoSans-Regular.ttf"}},{"id":7,"type":"Report_v2","name":"Report_v2_7","runner":"Report","props":{"report_url":"","save_raw":true}},{"id":8,"type":"Bridge_v2","name":"Bridge_v2_8","runner":"Brigde","props":{"enable":false}},{"id":9,"type":"VideoEncode_v2","name":"VideoEncode_v2_9","runner":"Brigde","props":{"output_stream_url":""}},{"id":10,"type":"BoxFilter_v2","name":"BoxFilter","runner":"Bridge","props":{"min_width":0,"max_width":4096,"min_height":0,"max_height":4096,"min_area":0,"max_area":8847360,"min_count":0,"max_count":2147483647,"box_labels":["reflective_vest","Non_reflective_vest"]}}],"pipe":[[0,0,1,0],[0,1,1,1],[1,1,2,0],[2,0,3,0],[3,0,4,0],[4,0,5,0],[5,0,6,0],[6,0,7,0],[4,0,8,0],[8,0,9,0],[4,0,10,0]]}')},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){},3:function(module,exports){},4:function(module,exports){},5:function(module,exports){},6:function(module,exports){},7:function(module,exports){}},[[0,5,6]]]);